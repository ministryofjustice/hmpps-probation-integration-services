<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    

    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Guides - HMPPS Probation Integration Services</title>

    <link href="stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs/guides.html">
      <link rel="icon" sizes="48x48" href="/images/favicon.ico">
      <link rel="icon" sizes="any" href="/images/favicon.svg" type="image/svg+xml">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="ministryofjustice.github.io" />
      <meta name="twitter:image" content="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs/images/opengraph-image.png" />
      <meta name="twitter:title" content="Guides - HMPPS Probation Integration Services" />
      <meta name="twitter:url" content="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs/guides.html" />

      <meta property="og:image" content="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs/images/opengraph-image.png" />
      <meta property="og:site_name" content="HMPPS Probation Integration Services" />
      <meta property="og:title" content="Guides" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs/guides.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          HMPPS Probation Integration
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <nav class="govuk-header__navigation govuk-header__navigation--end" aria-label="Menu">
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" hidden>Menu</button>
        <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://github.com/ministryofjustice/hmpps-probation-integration-services#readme">GitHub</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://mojdt.slack.com/archives/C02HQ4M2YQN">Slack</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1">
              <div class="search" data-module="search" data-path-to-site-root="./">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs"/>
    <label class="govuk-label search__label" for="search">
      Search (via Google)
    </label>
    <input
      type="search"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                      <ul>
  <li>
    <a href="#how-to-guides"><span>How-To Guides</span></a>
    <ul>
      <li>
        <a href="#making-an-authenticated-api-request"><span>Making an Authenticated API Request</span></a>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled" aria-label="Content">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="how-to-guides">How-To Guides</h1>
<h2 id="making-an-authenticated-api-request">Making an Authenticated API Request</h2>
<p>Authentication tokens can be obtained from the internal HMPPS OAuth server,
<a href="https://github.com/ministryofjustice/hmpps-auth">HMPPS Auth</a>, using Client
Credentials Flow. Specific credentials for accessing an integration service
are supplied by the &lsquo;HMPPS Auth, Audit and Registers&rsquo; team. The client should
be configured with the correct scopes and authorities for accessing the API
endpoints provided by the integration service and these will then be present
in the supplied JWT.</p>
<div class="highlight"><pre class="highlight shell" tabindex="0"><code><span class="c"># Client credentials - supplied by 'HMPPS Auth, Audit and Registers' team</span>
<span class="nv">CLIENT_ID</span><span class="o">=</span>&lt;hmpps-auth-client-id&gt;
<span class="nv">CLIENT_SECRET</span><span class="o">=</span>&lt;hmpps-auth-client-secret&gt;

<span class="c"># Request a JWT access token</span>
<span class="nv">AUTH_TOKEN</span><span class="o">=</span><span class="si">$(</span>
    curl <span class="nt">-s</span> <span class="nt">--location</span> <span class="se">\</span>
        <span class="nt">--request</span> POST <span class="s2">"https://sign-in.hmpps.service.justice.gov.uk/auth/oauth/token?grant_type=client_credentials"</span> <span class="se">\</span>
        <span class="nt">--user</span> <span class="s2">"</span><span class="nv">$CLIENT_ID</span><span class="s2">:</span><span class="nv">$CLIENT_SECRET</span><span class="s2">"</span> |
        jq <span class="nt">-r</span> .access_token
<span class="si">)</span>

<span class="c"># Inspect the JWT and ensure scopes and authorities are correct</span>
jwt decode <span class="nv">$AUTH_TOKEN</span>
</code></pre></div><p>To make a request to the API submit a <code>GET</code> request to an endpoint in the
integration service, supplying the JWT access token as a bearer token in an
<code>Authorization</code> header.</p>
<div class="highlight"><pre class="highlight shell" tabindex="0"><code>curl <span class="nt">-s</span> <span class="nt">--location</span> https://&lt;integration-service-name&gt;.hmpps.service.justice.gov.uk/case-details/X633793/1 <span class="se">\</span>
        <span class="nt">--header</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$AUTH_TOKEN</span><span class="s2">"</span>
</code></pre></div>
              <div data-module='page-expiry' data-last-reviewed-on="2025-09-24">
    <div class='page-expiry--not-expired'>
      This page was last reviewed on 24 June 2025.

        It needs to be reviewed again on 24 September 2025
        by the page owner <a href="https://mojdt.slack.com/messages/probation-integration-team">#probation-integration-team</a>
        .
    </div>

    <div class='page-expiry--expired' hidden>
      This page was set to be reviewed before 24 September 2025
       by the page owner <a href="https://mojdt.slack.com/messages/probation-integration-team">#probation-integration-team</a>.
      This might mean the content is out of date.
    </div>
  </div>

          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/doc/tech-docs/source/guides.html.md.erb">View source</a></li>
                <li><a href="https://github.com/ministryofjustice/hmpps-probation-integration-services/issues/new?body=Problem+with+%27Guides%27+%28https%3A%2F%2Fministryofjustice.github.io%2Fhmpps-probation-integration-services%2Ftech-docs%2Fguides.html%29&amp;labels=bug&amp;title=Re%3A+%27Guides%27">Report problem</a></li>
                <li><a href="https://github.com/ministryofjustice/hmpps-probation-integration-services">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">


      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >Â© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="javascripts/govuk_frontend.js" type="module"></script>
    <script src="javascripts/application.js"></script>
  </body>
</html>
