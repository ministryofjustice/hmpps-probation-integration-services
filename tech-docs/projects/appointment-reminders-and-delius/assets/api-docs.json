{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/users/{username}/access":{"post":{"tags":["user-controller"],"operationId":"checkUserAccess","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAccess"}}}}}}},"/users/{username}/providers":{"get":{"tags":["user-controller"],"operationId":"getUserProviders","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderResponse"}}}}}}},"/data-quality/{providerCode}/missing-mobile-numbers":{"get":{"tags":["data-quality-controller"],"operationId":"getMissingMobileNumbers","parameters":[{"name":"providerCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedModelProbationCase"}}}}}}},"/data-quality/{providerCode}/invalid-mobile-numbers":{"get":{"tags":["data-quality-controller"],"operationId":"getInvalidMobileNumbers","parameters":[{"name":"providerCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedModelProbationCase"}}}}}}},"/data-quality/{providerCode}/invalid-mobile-numbers/count":{"get":{"tags":["data-quality-controller"],"operationId":"getInvalidMobileNumbersCount","parameters":[{"name":"providerCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/data-quality/{providerCode}/duplicate-mobile-numbers":{"get":{"tags":["data-quality-controller"],"operationId":"getDuplicateMobileNumbers","parameters":[{"name":"providerCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedModelProbationCase"}}}}}}}},"components":{"schemas":{"CaseAccess":{"type":"object","properties":{"crn":{"type":"string"},"userExcluded":{"type":"boolean"},"userRestricted":{"type":"boolean"},"exclusionMessage":{"type":"string"},"restrictionMessage":{"type":"string"}},"required":["crn","userExcluded","userRestricted"]},"UserAccess":{"type":"object","properties":{"access":{"type":"array","items":{"$ref":"#/components/schemas/CaseAccess"}}},"required":["access"]},"Provider":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"}},"required":["code","name"]},"ProviderResponse":{"type":"object","properties":{"providers":{"type":"array","items":{"$ref":"#/components/schemas/Provider"}}},"required":["providers"]},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"Manager":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}},"required":["name"]},"PageMetadata":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"number":{"type":"integer","format":"int64"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int64"}}},"PagedModelProbationCase":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/ProbationCase"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"ProbationCase":{"type":"object","properties":{"name":{"type":"string"},"crn":{"type":"string"},"mobileNumber":{"type":"string"},"manager":{"$ref":"#/components/schemas/Manager"},"probationDeliveryUnit":{"type":"string"}},"required":["crn","name","probationDeliveryUnit"]}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}