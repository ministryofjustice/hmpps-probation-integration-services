{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/offence-details/{uuid}":{"get":{"tags":["offence-details-controller"],"operationId":"getOffenceDetails","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OffenceDetails"}}}}}}},"/docs/asyncapi":{"get":{"tags":["async-api-controller"],"operationId":"asyncApi","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/basic-details/{crn}/{username}":{"get":{"tags":["case-details-controller"],"operationId":"getBasicDetails","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}},{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonDetails"}}}}}}}},"components":{"schemas":{"CodedDescription":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"}},"required":["code","description"]},"OffenceDetails":{"type":"object","properties":{"mainOffence":{"$ref":"#/components/schemas/CodedDescription"},"additionalOffences":{"type":"array","items":{"$ref":"#/components/schemas/CodedDescription"}},"sentencingCourt":{"type":"string"},"sentenceDate":{"type":"string","format":"date"},"sentenceImposed":{"$ref":"#/components/schemas/CodedDescription"},"requirementsImposed":{"type":"array","items":{"$ref":"#/components/schemas/Requirement"}},"sentence":{"$ref":"#/components/schemas/Sentence"}},"required":["additionalOffences","mainOffence","requirementsImposed","sentence","sentenceDate","sentenceImposed","sentencingCourt"]},"Requirement":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"startDate":{"type":"string","format":"date"},"mainCategory":{"type":"string"},"subCategory":{"type":"string"},"length":{"type":"integer","format":"int32"},"lengthUnit":{"type":"string"},"secondaryLength":{"type":"integer","format":"int32"},"secondaryLengthUnit":{"type":"string"}},"required":["id","startDate"]},"Sentence":{"type":"object","properties":{"length":{"type":"integer","format":"int32"},"lengthUnits":{"type":"string"},"type":{"type":"string"},"secondLength":{"type":"integer","format":"int32"},"secondLengthUnits":{"type":"string"}}},"Address":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"status":{"type":"string"},"buildingName":{"type":"string"},"buildingNumber":{"type":"string"},"streetName":{"type":"string"},"townCity":{"type":"string"},"district":{"type":"string"},"county":{"type":"string"},"postcode":{"type":"string"}},"required":["id","status"]},"Name":{"type":"object","properties":{"forename":{"type":"string"},"middleName":{"type":"string"},"surname":{"type":"string"}},"required":["forename","surname"]},"PersonDetails":{"type":"object","properties":{"title":{"type":"string"},"name":{"$ref":"#/components/schemas/Name"},"dateOfBirth":{"type":"string","format":"date"},"telephoneNumber":{"type":"string"},"mobileNumber":{"type":"string"},"emailAddress":{"type":"string"},"addresses":{"type":"array","items":{"$ref":"#/components/schemas/Address"}}},"required":["addresses","dateOfBirth","name"]}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}