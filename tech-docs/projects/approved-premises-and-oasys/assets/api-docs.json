{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/rosh/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getRosh","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoshDetails"}}}}}}},"/rosh-summary/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getRoshSummary","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoshSummaryDetails"}}}}}}},"/risk-to-the-individual/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getRiskToTheIndividual","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskToTheIndividualDetails"}}}}}}},"/risk-management-plan/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getRiskManagementPlan","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskManagementPlanDetails"}}}}}}},"/risk-assessment/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getRiskAssessment","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentDetails"}}}}}}},"/offence-details/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getOffenceDetails","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OffenceDetails"}}}}}}},"/needs-details/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getNeeds","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NeedsDetails"}}}}}}},"/latest-assessment/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getAssessmentTimeline","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OasysTimelineAssessment"}}}}}}},"/health-details/{crn}":{"get":{"tags":["assessment-controller"],"operationId":"getHealthDetails","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthDetails"}}}}}}}},"components":{"schemas":{"Rosh":{"type":"object","properties":{"riskChildrenCommunity":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskPrisonersCustody":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskStaffCustody":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskStaffCommunity":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskKnownAdultCustody":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskKnownAdultCommunity":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskPublicCustody":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskPublicCommunity":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]},"riskChildrenCustody":{"type":"string","enum":["VERY_HIGH","HIGH","MEDIUM","LOW"]}}},"RoshDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"rosh":{"$ref":"#/components/schemas/Rosh"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender","rosh"]},"RoshSummary":{"type":"object","properties":{"whoIsAtRisk":{"type":"string"},"riskReductionLikelyTo":{"type":"string"},"riskIncreaseLikelyTo":{"type":"string"},"riskGreatest":{"type":"string"},"natureOfRisk":{"type":"string"},"factorsAnalysisOfRisk":{"type":"string"},"factorsStrengthsAndProtective":{"type":"string"},"factorsSituationsLikelyToOffend":{"type":"string"}}},"RoshSummaryDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"roshSummary":{"$ref":"#/components/schemas/RoshSummary"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender","roshSummary"]},"RiskToTheIndividual":{"type":"object","properties":{"concernsRiskOfSuicide":{"type":"boolean"},"currentConcernsBreachOfTrustText":{"type":"string"},"currentConcernsBreachOfTrust":{"type":"boolean"},"riskOfSeriousHarm":{"type":"string"},"previousVulnerability":{"type":"string"},"currentVulnerability":{"type":"string"},"previousCustodyHostelCoping":{"type":"string"},"currentCustodyHostelCoping":{"type":"string"},"previousConcernsSelfHarmSuicide":{"type":"string"},"currentConcernsSelfHarmSuicide":{"type":"string"},"currentConcernsRiskOfSelfHarm":{"type":"boolean"},"currentConcernsRiskOfSuicide":{"type":"boolean"},"concernsBreachOfTrust":{"type":"boolean"},"concernsRiskOfSelfHarm":{"type":"boolean"},"currentControlBehaveTrust":{"type":"boolean"},"analysisControlBehaveTrust":{"type":"string"},"analysisCoping":{"type":"string"},"analysisSuicideSelfharm":{"type":"string"},"analysisVulnerabilities":{"type":"string"}}},"RiskToTheIndividualDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"riskToTheIndividual":{"$ref":"#/components/schemas/RiskToTheIndividual"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender","riskToTheIndividual"]},"RiskManagementPlan":{"type":"object","properties":{"furtherConsiderations":{"type":"string"},"additionalComments":{"type":"string"},"contingencyPlans":{"type":"string"},"victimSafetyPlanning":{"type":"string"},"interventionsAndTreatment":{"type":"string"},"monitoringAndControl":{"type":"string"},"supervision":{"type":"string"},"keyInformationAboutCurrentSituation":{"type":"string"}}},"RiskManagementPlanDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"riskManagementPlan":{"$ref":"#/components/schemas/RiskManagementPlan"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender","riskManagementPlan"]},"RiskAssessment":{"type":"object","properties":{"currentOffenceDetails":{"type":"string"},"currentSources":{"type":"string"},"currentWhyDone":{"type":"string"},"currentAnyoneElsePresent":{"type":"string"},"currentWhoVictims":{"type":"string"},"currentHowDone":{"type":"string"},"currentWhereAndWhen":{"type":"string"},"previousSources":{"type":"string"},"previousWhyDone":{"type":"string"},"previousAnyoneElsePresent":{"type":"string"},"previousWhoVictims":{"type":"string"},"previousHowDone":{"type":"string"},"previousWhereAndWhen":{"type":"string"},"previousWhatDone":{"type":"string"},"identifyBehavioursIncidents":{"type":"string"},"analysisBehavioursIncidents":{"type":"string"}}},"RiskAssessmentDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"riskAssessment":{"$ref":"#/components/schemas/RiskAssessment"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender","riskAssessment"]},"Offence":{"type":"object","properties":{"offenceAnalysis":{"type":"string"},"othersInvolved":{"type":"string"},"issueContributingToRisk":{"type":"string"},"offenceMotivation":{"type":"string"},"victimImpact":{"type":"string"},"victimPerpetratorRel":{"type":"string"},"victimInfo":{"type":"string"},"patternOffending":{"type":"string"},"acceptsResponsibility":{"type":"string"}}},"OffenceDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"offence":{"$ref":"#/components/schemas/Offence"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender"]},"LinksToHarm":{"type":"object","properties":{"accommodationLinkedToHarm":{"type":"boolean"},"educationTrainingEmploymentLinkedToHarm":{"type":"boolean"},"financeLinkedToHarm":{"type":"boolean"},"relationshipLinkedToHarm":{"type":"boolean"},"lifestyleLinkedToHarm":{"type":"boolean"},"drugLinkedToHarm":{"type":"boolean"},"alcoholLinkedToHarm":{"type":"boolean"},"emotionalLinkedToHarm":{"type":"boolean"},"thinkingBehaviouralLinkedToHarm":{"type":"boolean"},"attitudeLinkedToHarm":{"type":"boolean"}}},"LinksToReOffending":{"type":"object","properties":{"accommodationLinkedToReOffending":{"type":"boolean"},"educationTrainingEmploymentLinkedToReOffending":{"type":"boolean"},"financeLinkedToReOffending":{"type":"boolean"},"relationshipLinkedToReOffending":{"type":"boolean"},"lifestyleLinkedToReOffending":{"type":"boolean"},"drugLinkedToReOffending":{"type":"boolean"},"alcoholLinkedToReOffending":{"type":"boolean"},"emotionalLinkedToReOffending":{"type":"boolean"},"thinkingBehaviouralLinkedToReOffending":{"type":"boolean"},"attitudeLinkedToReOffending":{"type":"boolean"}}},"Needs":{"type":"object","properties":{"offenceAnalysisDetails":{"type":"string"},"emotionalIssuesDetails":{"type":"string"},"drugIssuesDetails":{"type":"string"},"alcoholIssuesDetails":{"type":"string"},"lifestyleIssuesDetails":{"type":"string"},"relationshipIssuesDetails":{"type":"string"},"financeIssuesDetails":{"type":"string"},"educationTrainingEmploymentIssuesDetails":{"type":"string"},"accommodationIssuesDetails":{"type":"string"},"attitudeIssuesDetails":{"type":"string"},"thinkingBehaviouralIssuesDetails":{"type":"string"}}},"NeedsDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"needs":{"$ref":"#/components/schemas/Needs"},"linksToHarm":{"$ref":"#/components/schemas/LinksToHarm"},"linksToReOffending":{"$ref":"#/components/schemas/LinksToReOffending"}},"required":["assessmentId","assessmentStatus","assessmentType","initiationDate","limitedAccessOffender"]},"OasysTimelineAssessment":{"type":"object","properties":{"assessmentPk":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"initiationDate":{"type":"string","format":"date-time"},"status":{"type":"string"},"completedDate":{"type":"string","format":"date-time"}},"required":["assessmentPk","assessmentType","initiationDate","status"]},"Health":{"type":"object","properties":{"generalHealth":{"type":"boolean"},"generalHealthSpecify":{"type":"string"},"electronicMonitoringSpecify":{"type":"string"},"electronicMonitoringElectricity":{"type":"boolean"},"electronicMonitoring":{"type":"boolean"},"generalHeathSpecify":{"type":"string"},"healthIssues":{"$ref":"#/components/schemas/HealthDetail"},"drugsMisuse":{"$ref":"#/components/schemas/HealthDetail"},"chaoticLifestyle":{"$ref":"#/components/schemas/HealthDetail"},"religiousOrCulturalRequirements":{"$ref":"#/components/schemas/HealthDetail"},"transportDifficulties":{"$ref":"#/components/schemas/HealthDetail"},"employmentCommitments":{"$ref":"#/components/schemas/HealthDetail"},"educationCommitments":{"$ref":"#/components/schemas/HealthDetail"},"childCareAndCarers":{"$ref":"#/components/schemas/HealthDetail"},"disability":{"$ref":"#/components/schemas/HealthDetail"},"psychiatricPsychologicalRequirements":{"$ref":"#/components/schemas/HealthDetail"},"levelOfMotivation":{"$ref":"#/components/schemas/HealthDetail"},"learningDifficulties":{"$ref":"#/components/schemas/HealthDetail"},"literacyProblems":{"$ref":"#/components/schemas/HealthDetail"},"poorCommunicationSkills":{"$ref":"#/components/schemas/HealthDetail"},"needForInterpreter":{"$ref":"#/components/schemas/HealthDetail"},"alcoholMisuse":{"$ref":"#/components/schemas/HealthDetail"}}},"HealthDetail":{"type":"object","properties":{"community":{"type":"string"},"electronicMonitoring":{"type":"string"},"programme":{"type":"string"}}},"HealthDetails":{"type":"object","properties":{"assessmentId":{"type":"integer","format":"int64"},"assessmentType":{"type":"string"},"dateCompleted":{"type":"string","format":"date-time"},"assessorSignedDate":{"type":"string","format":"date-time"},"initiationDate":{"type":"string","format":"date-time"},"assessmentStatus":{"type":"string"},"superStatus":{"type":"string"},"laterWIPAssessmentExists":{"type":"boolean"},"limitedAccessOffender":{"type":"boolean"},"lastUpdatedDate":{"type":"string","format":"date-time"},"health":{"$ref":"#/components/schemas/Health"}},"required":["assessmentId","assessmentStatus","assessmentType","health","initiationDate","limitedAccessOffender"]}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}