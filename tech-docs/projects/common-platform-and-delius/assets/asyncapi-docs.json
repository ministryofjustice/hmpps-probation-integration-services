{"asyncapi":"2.4.0","channels":{"common-platform-and-delius-queue":{"$ref":"#/components/channels/CourtMessageHandler"},"common-platform-and-delius-fifo-queue":{"$ref":"#/components/channels/FIFOHandler"},"hmpps-domain-events-topic":{"$ref":"#/components/channels/Notifier"}},"components":{"channels":{"CourtMessageHandler":{},"FIFOHandler":{"publish":{"message":{"oneOf":[{"name":"COMMON_PLATFORM_HEARING","payload":{"$ref":"#/components/schemas/CommonPlatformHearing"},"title":"COMMON_PLATFORM_HEARING"}]}}},"Notifier":{"subscribe":{"message":{"oneOf":[{"name":"probation-case.engagement.created","payload":{"$ref":"#/components/schemas/HmppsDomainEvent"},"title":"probation-case.engagement.created"},{"name":"probation-case.address.created","payload":{"$ref":"#/components/schemas/HmppsDomainEvent"},"title":"probation-case.address.created"}]}}}},"messages":{"HmppsDomainEvent":{"payload":{"$ref":"#/components/schemas/HmppsDomainEvent"},"schemaFormat":"application/schema+json;version=draft-07"},"CommonPlatformHearing":{"payload":{"$ref":"#/components/schemas/CommonPlatformHearing"},"schemaFormat":"application/schema+json;version=draft-07"}},"schemas":{"HmppsDomainEvent":{"exampleSetFlag":false,"properties":{"eventType":{"exampleSetFlag":false,"type":"string","types":["string"]},"version":{"exampleSetFlag":false,"format":"int32","type":"integer","types":["integer"]},"detailUrl":{"exampleSetFlag":false,"type":"string","types":["string"]},"occurredAt":{"exampleSetFlag":false,"format":"date-time","type":"string","types":["string"]},"description":{"exampleSetFlag":false,"type":"string","types":["string"]},"additionalInformation":{"additionalProperties":{"exampleSetFlag":false,"jsonSchema":{"type":"object"},"type":"object","types":["object"]},"exampleSetFlag":false,"jsonSchema":{"type":"object"},"type":"object","types":["object"]},"personReference":{"exampleSetFlag":false}},"required":["additionalInformation","eventType","occurredAt","personReference","version"],"type":"object"},"PersonIdentifier":{"exampleSetFlag":false,"properties":{"type":{"exampleSetFlag":false,"type":"string","types":["string"]},"value":{"exampleSetFlag":false,"type":"string","types":["string"]}},"required":["type","value"],"type":"object"},"PersonReference":{"exampleSetFlag":false,"properties":{"identifiers":{"exampleSetFlag":false,"items":{"exampleSetFlag":false},"type":"array","types":["array"]}},"required":["identifiers"],"type":"object"},"Address":{"exampleSetFlag":false,"properties":{"address1":{"exampleSetFlag":false,"type":"string","types":["string"]},"address2":{"exampleSetFlag":false,"type":"string","types":["string"]},"address3":{"exampleSetFlag":false,"type":"string","types":["string"]},"address4":{"exampleSetFlag":false,"type":"string","types":["string"]},"address5":{"exampleSetFlag":false,"type":"string","types":["string"]},"postcode":{"exampleSetFlag":false,"type":"string","types":["string"]}},"type":"object"},"CommonPlatformHearing":{"exampleSetFlag":false,"properties":{"hearing":{"exampleSetFlag":false}},"required":["hearing"],"type":"object"},"ContactDetails":{"exampleSetFlag":false,"properties":{"home":{"exampleSetFlag":false,"type":"string","types":["string"]},"mobile":{"exampleSetFlag":false,"type":"string","types":["string"]},"work":{"exampleSetFlag":false,"type":"string","types":["string"]},"email":{"exampleSetFlag":false,"type":"string","types":["string"]}},"type":"object"},"CourtCentre":{"exampleSetFlag":false,"properties":{"id":{"exampleSetFlag":false,"type":"string","types":["string"]},"code":{"exampleSetFlag":false,"type":"string","types":["string"]},"roomId":{"exampleSetFlag":false,"type":"string","types":["string"]},"roomName":{"exampleSetFlag":false,"type":"string","types":["string"]}},"required":["code","id","roomId","roomName"],"type":"object"},"Defendant":{"exampleSetFlag":false,"properties":{"id":{"exampleSetFlag":false,"type":"string","types":["string"]},"offences":{"exampleSetFlag":false,"items":{"exampleSetFlag":false},"type":"array","types":["array"]},"prosecutionCaseId":{"exampleSetFlag":false,"type":"string","types":["string"]},"personDefendant":{"exampleSetFlag":false},"legalEntityDefendant":{"exampleSetFlag":false,"jsonSchema":{"type":"object"},"type":"object","types":["object"]},"masterDefendantId":{"exampleSetFlag":false,"type":"string","types":["string"]},"pncId":{"exampleSetFlag":false,"type":"string","types":["string"]},"croNumber":{"exampleSetFlag":false,"type":"string","types":["string"]},"isYouth":{"exampleSetFlag":false,"type":"boolean","types":["boolean"]},"isPncMissing":{"exampleSetFlag":false,"type":"boolean","types":["boolean"]},"isCroMissing":{"exampleSetFlag":false,"type":"boolean","types":["boolean"]},"isYouthMissing":{"exampleSetFlag":false,"type":"boolean","types":["boolean"]},"cprUUID":{"exampleSetFlag":false,"type":"string","types":["string"]}},"required":["id","offences","prosecutionCaseId"],"type":"object"},"Ethnicity":{"exampleSetFlag":false,"properties":{"observedEthnicityDescription":{"exampleSetFlag":false,"type":"string","types":["string"]},"selfDefinedEthnicityDescription":{"exampleSetFlag":false,"type":"string","types":["string"]},"selfDefinedEthnicityCode":{"exampleSetFlag":false,"type":"string","types":["string"]}},"type":"object"},"Hearing":{"exampleSetFlag":false,"properties":{"id":{"exampleSetFlag":false,"type":"string","types":["string"]},"courtCentre":{"exampleSetFlag":false},"type":{"exampleSetFlag":false},"jurisdictionType":{"exampleSetFlag":false,"type":"string","types":["string"]},"hearingDays":{"exampleSetFlag":false,"items":{"exampleSetFlag":false},"type":"array","types":["array"]},"prosecutionCases":{"exampleSetFlag":false,"items":{"exampleSetFlag":false},"type":"array","types":["array"]}},"required":["courtCentre","hearingDays","id","jurisdictionType","prosecutionCases"],"type":"object"},"HearingDay":{"exampleSetFlag":false,"properties":{"sittingDay":{"exampleSetFlag":false,"format":"date-time","type":"string","types":["string"]},"listedDurationMinutes":{"exampleSetFlag":false,"format":"int32","type":"integer","types":["integer"]},"listingSequence":{"exampleSetFlag":false,"format":"int32","type":"integer","types":["integer"]}},"required":["listedDurationMinutes","listingSequence","sittingDay"],"type":"object"},"HearingOffence":{"exampleSetFlag":false,"properties":{"id":{"exampleSetFlag":false,"type":"string","types":["string"]},"offenceDefinitionId":{"exampleSetFlag":false,"type":"string","types":["string"]},"offenceCode":{"exampleSetFlag":false,"type":"string","types":["string"]},"offenceTitle":{"exampleSetFlag":false,"type":"string","types":["string"]},"wording":{"exampleSetFlag":false,"type":"string","types":["string"]},"offenceLegislation":{"exampleSetFlag":false,"type":"string","types":["string"]},"listingNumber":{"exampleSetFlag":false,"format":"int32","type":"integer","types":["integer"]},"judicialResults":{"exampleSetFlag":false,"items":{"exampleSetFlag":false},"type":"array","types":["array"]},"plea":{"exampleSetFlag":false},"verdict":{"exampleSetFlag":false}},"required":["id","listingNumber","offenceLegislation","offenceTitle","wording"],"type":"object"},"HearingType":{"exampleSetFlag":false,"properties":{"id":{"exampleSetFlag":false,"type":"string","types":["string"]},"description":{"exampleSetFlag":false,"type":"string","types":["string"]},"welshDescription":{"exampleSetFlag":false,"type":"string","types":["string"]}},"required":["description","id"],"type":"object"},"JudicialResult":{"exampleSetFlag":false,"properties":{"isConvictedResult":{"exampleSetFlag":false,"type":"boolean","types":["boolean"]},"label":{"exampleSetFlag":false,"type":"string","types":["string"]},"judicialResultTypeId":{"exampleSetFlag":false,"type":"string","types":["string"]},"resultText":{"exampleSetFlag":false,"type":"string","types":["string"]}},"type":"object"},"PersonDefendant":{"exampleSetFlag":false,"properties":{"personDetails":{"exampleSetFlag":false}},"required":["personDetails"],"type":"object"},"PersonDetails":{"exampleSetFlag":false,"properties":{"gender":{"exampleSetFlag":false,"type":"string","types":["string"]},"lastName":{"exampleSetFlag":false,"type":"string","types":["string"]},"middleName":{"exampleSetFlag":false,"type":"string","types":["string"]},"firstName":{"exampleSetFlag":false,"type":"string","types":["string"]},"dateOfBirth":{"exampleSetFlag":false,"format":"date","type":"string","types":["string"]},"address":{"exampleSetFlag":false},"contact":{"exampleSetFlag":false},"ethnicity":{"exampleSetFlag":false},"nationalityCode":{"exampleSetFlag":false,"type":"string","types":["string"]},"additionalNationalityCode":{"exampleSetFlag":false,"type":"string","types":["string"]}},"type":"object"},"Plea":{"exampleSetFlag":false,"properties":{"pleaValue":{"exampleSetFlag":false,"type":"string","types":["string"]},"pleaDate":{"exampleSetFlag":false,"format":"date","type":"string","types":["string"]}},"type":"object"},"ProsecutionCase":{"exampleSetFlag":false,"properties":{"id":{"exampleSetFlag":false,"type":"string","types":["string"]},"initiationCode":{"exampleSetFlag":false,"type":"string","types":["string"]},"prosecutionCaseIdentifier":{"exampleSetFlag":false},"defendants":{"exampleSetFlag":false,"items":{"exampleSetFlag":false},"type":"array","types":["array"]},"caseStatus":{"exampleSetFlag":false,"type":"string","types":["string"]},"caseMarkers":{"exampleSetFlag":false,"items":{"exampleSetFlag":false,"jsonSchema":{"type":"object"},"type":"object","types":["object"]},"type":"array","types":["array"]}},"required":["caseMarkers","defendants","id","prosecutionCaseIdentifier"],"type":"object"},"ProsecutionCaseIdentifier":{"exampleSetFlag":false,"properties":{"prosecutionAuthorityCode":{"exampleSetFlag":false,"type":"string","types":["string"]},"prosecutionAuthorityId":{"exampleSetFlag":false,"type":"string","types":["string"]},"caseURN":{"exampleSetFlag":false,"type":"string","types":["string"]}},"required":["caseURN","prosecutionAuthorityCode","prosecutionAuthorityId"],"type":"object"},"Verdict":{"exampleSetFlag":false,"properties":{"verdictDate":{"exampleSetFlag":false,"format":"date","type":"string","types":["string"]},"verdictType":{"exampleSetFlag":false}},"required":["verdictType"],"type":"object"},"VerdictType":{"exampleSetFlag":false,"properties":{"description":{"exampleSetFlag":false,"type":"string","types":["string"]}},"type":"object"}}},"defaultContentType":"application/json","externalDocs":{"url":"https://ministryofjustice.github.io/hmpps-probation-integration-services/tech-docs/projects/common-platform-and-delius/"},"info":{"contact":{"email":"probation-integration-team@digital.justice.gov.uk","name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"title":"common-platform-and-delius","version":"1.0"},"servers":{"dev":{"protocol":"sqs","url":"https://sqs.eu-west-2.amazonaws.com/754256621582/probation-integration-dev-common-platform-and-delius-queue"},"preprod":{"protocol":"sqs","url":"https://sqs.eu-west-2.amazonaws.com/754256621582/probation-integration-preprod-common-platform-and-delius-queue"},"prod":{"protocol":"sqs","url":"https://sqs.eu-west-2.amazonaws.com/754256621582/probation-integration-prod-common-platform-and-delius-queue"}}}