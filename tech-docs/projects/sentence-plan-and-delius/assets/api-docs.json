{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/users/{username}/access/{crn}":{"get":{"tags":["user-controller"],"operationId":"getCaseDetails","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}},{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCaseloadIndicator"}}}}}}},"/case-details/{crn}":{"get":{"tags":["case-details-controller"],"operationId":"getCaseDetails_1","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseDetails"}}}}}}},"/case-details/{crn}/first-appointment-date":{"get":{"tags":["case-details-controller"],"operationId":"getFirstAppointmentDate","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstAppointment"}}}}}}}},"components":{"schemas":{"UserCaseloadIndicator":{"type":"object","properties":{"inCaseload":{"type":"boolean"}},"required":["inCaseload"]},"CaseDetails":{"type":"object","properties":{"name":{"$ref":"#/components/schemas/Name"},"crn":{"type":"string"},"tier":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"nomisId":{"type":"string"},"region":{"type":"string"},"keyWorker":{"$ref":"#/components/schemas/Manager"},"inCustody":{"type":"boolean"},"sentences":{"type":"array","items":{"$ref":"#/components/schemas/Sentence"}}},"required":["crn","dateOfBirth","inCustody","keyWorker","name","sentences"]},"Manager":{"type":"object","properties":{"name":{"$ref":"#/components/schemas/Name"},"unallocated":{"type":"boolean"}},"required":["unallocated"]},"Name":{"type":"object","properties":{"forename":{"type":"string"},"middleName":{"type":"string"},"surname":{"type":"string"}},"required":["forename","surname"]},"Sentence":{"type":"object","properties":{"description":{"type":"string"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"programmeRequirement":{"type":"boolean"},"unpaidWorkHoursOrdered":{"type":"integer","format":"int32"},"unpaidWorkMinutesCompleted":{"type":"integer","format":"int32"},"rarDaysOrdered":{"type":"integer","format":"int32"},"rarDaysCompleted":{"type":"integer","format":"int32"}},"required":["programmeRequirement","rarDaysCompleted","rarDaysOrdered","unpaidWorkHoursOrdered","unpaidWorkMinutesCompleted"]},"FirstAppointment":{"type":"object","properties":{"appointmentDate":{"type":"string","format":"date-time"}}}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}