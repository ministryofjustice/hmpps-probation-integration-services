{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/document/{id}":{"get":{"tags":["document-controller"],"summary":"Download document content","operationId":"downloadDocument","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StreamingResponseBody"}}}}}}},"/case/{nomisId}/documents":{"get":{"tags":["document-controller"],"summary":"List documents for a case","description":"Returns basic personal information for the case, along with a list of person-level documents \n            and event-level documents. Documents are annotated with the type and description, based on what they relate \n            to in the probation case (e.g. a court appearance, an event, etc).\n        ","operationId":"getDocuments","parameters":[{"name":"nomisId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProbationDocumentsResponse"}}}}}}}},"components":{"schemas":{"StreamingResponseBody":{},"Conviction":{"type":"object","properties":{"title":{"type":"string"},"offence":{"type":"string"},"date":{"type":"string","format":"date"},"active":{"type":"boolean"},"documents":{"type":"array","items":{"$ref":"#/components/schemas/Document"}},"institutionName":{"type":"string"}},"required":["active","date","documents","offence"]},"Document":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"type":{"type":"string"},"author":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}},"required":["id","name","type"]},"Name":{"type":"object","properties":{"forename":{"type":"string"},"middleName":{"type":"string"},"surname":{"type":"string"}},"required":["forename","surname"]},"ProbationDocumentsResponse":{"type":"object","properties":{"crn":{"type":"string"},"name":{"$ref":"#/components/schemas/Name"},"documents":{"type":"array","items":{"$ref":"#/components/schemas/Document"}},"convictions":{"type":"array","items":{"$ref":"#/components/schemas/Conviction"}}},"required":["convictions","crn","documents","name"]}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}