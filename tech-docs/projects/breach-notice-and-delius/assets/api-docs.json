{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/warning-types/{crn}/{breachNoticeId}":{"get":{"tags":["warning-controller"],"operationId":"getWarningTypes","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}},{"name":"breachNoticeId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarningTypesResponse"}}}}}}},"/warning-details/{crn}/{breachNoticeId}":{"get":{"tags":["warning-controller"],"operationId":"getWarningDetails","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}},{"name":"breachNoticeId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarningDetails"}}}}}}},"/users/{username}/access/{crn}":{"get":{"tags":["User access"],"operationId":"checkAccess","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}},{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseAccess"}}}}}}},"/requirements/{breachNoticeId}":{"get":{"tags":["requirements-controller"],"operationId":"getWarningDetails_1","parameters":[{"name":"breachNoticeId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequirementResponse"}}}}}}},"/next-appointment-details/{crn}":{"get":{"tags":["appointment-controller"],"operationId":"getFutureAppointments","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NextAppointmentDetails"}}}}}}},"/docs/asyncapi":{"get":{"tags":["async-api-controller"],"operationId":"asyncApi","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/case/{breachNoticeId}":{"get":{"tags":["breach-notice-controller"],"operationId":"findCrnForBreachNotice","parameters":[{"name":"breachNoticeId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCrn"}}}}}}},"/basic-details/{crn}/{username}":{"get":{"tags":["breach-notice-controller"],"operationId":"getBasicDetails","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}},{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BasicDetails"}}}}}}}},"components":{"schemas":{"CodedDescription":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"}},"required":["code","description"]},"SentenceType":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"},"conditionBeingEnforced":{"type":"string"}},"required":["code","conditionBeingEnforced","description"]},"WarningTypesResponse":{"type":"object","properties":{"warningTypes":{"type":"array","items":{"$ref":"#/components/schemas/CodedDescription"}},"sentenceTypes":{"type":"array","items":{"$ref":"#/components/schemas/SentenceType"}},"defaultSentenceTypeCode":{"type":"string"}},"required":["defaultSentenceTypeCode","sentenceTypes","warningTypes"]},"EnforceableContact":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"datetime":{"type":"string","format":"date-time"},"description":{"type":"string"},"type":{"$ref":"#/components/schemas/CodedDescription"},"outcome":{"$ref":"#/components/schemas/CodedDescription"},"notes":{"type":"string"}},"required":["datetime","id","outcome","type"]},"Requirement":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"type":{"$ref":"#/components/schemas/CodedDescription"},"subType":{"$ref":"#/components/schemas/CodedDescription"}},"required":["id","type"]},"WarningDetails":{"type":"object","properties":{"breachReasons":{"type":"array","items":{"$ref":"#/components/schemas/CodedDescription"}},"enforceableContacts":{"type":"array","items":{"$ref":"#/components/schemas/EnforceableContact"}},"requirements":{"type":"array","items":{"$ref":"#/components/schemas/Requirement"}}},"required":["breachReasons","enforceableContacts","requirements"]},"CaseAccess":{"type":"object","properties":{"crn":{"type":"string"},"userExcluded":{"type":"boolean"},"userRestricted":{"type":"boolean"},"exclusionMessage":{"type":"string"},"restrictionMessage":{"type":"string"}},"required":["crn","userExcluded","userRestricted"]},"RequirementResponse":{"type":"object","properties":{"requirements":{"type":"array","items":{"$ref":"#/components/schemas/Requirement"}},"breachReasons":{"type":"array","items":{"$ref":"#/components/schemas/CodedDescription"}}},"required":["breachReasons","requirements"]},"Appointment":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"type":{"$ref":"#/components/schemas/CodedDescription"},"datetime":{"type":"string","format":"date-time"},"description":{"type":"string"},"location":{"$ref":"#/components/schemas/OfficeAddress"},"officer":{"$ref":"#/components/schemas/Officer"}},"required":["datetime","id","officer","type"]},"Name":{"type":"object","properties":{"forename":{"type":"string"},"middleName":{"type":"string"},"surname":{"type":"string"}},"required":["forename","surname"]},"NextAppointmentDetails":{"type":"object","properties":{"responsibleOfficer":{"$ref":"#/components/schemas/ResponsibleOfficer"},"futureAppointments":{"type":"array","items":{"$ref":"#/components/schemas/Appointment"}}},"required":["futureAppointments","responsibleOfficer"]},"OfficeAddress":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"status":{"type":"string"},"officeDescription":{"type":"string"},"buildingName":{"type":"string"},"buildingNumber":{"type":"string"},"streetName":{"type":"string"},"townCity":{"type":"string"},"district":{"type":"string"},"county":{"type":"string"},"postcode":{"type":"string"}},"required":["id"]},"Officer":{"type":"object","properties":{"code":{"type":"string"},"name":{"$ref":"#/components/schemas/Name"}},"required":["code","name"]},"ResponsibleOfficer":{"type":"object","properties":{"name":{"$ref":"#/components/schemas/Name"},"telephoneNumber":{"type":"string"}},"required":["name"]},"DocumentCrn":{"type":"object","properties":{"crn":{"type":"string"}},"required":["crn"]},"Address":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"status":{"type":"string"},"buildingName":{"type":"string"},"buildingNumber":{"type":"string"},"streetName":{"type":"string"},"townCity":{"type":"string"},"district":{"type":"string"},"county":{"type":"string"},"postcode":{"type":"string"}},"required":["id"]},"BasicDetails":{"type":"object","properties":{"title":{"type":"string"},"name":{"$ref":"#/components/schemas/Name"},"addresses":{"type":"array","items":{"$ref":"#/components/schemas/Address"}},"replyAddresses":{"type":"array","items":{"$ref":"#/components/schemas/OfficeAddress"}}},"required":["addresses","name","replyAddresses"]}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}