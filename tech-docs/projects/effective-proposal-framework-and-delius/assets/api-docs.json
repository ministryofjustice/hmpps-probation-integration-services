{"openapi":"3.1.0","info":{"title":"API Reference","contact":{"name":"Probation Integration Team","url":"https://mojdt.slack.com/archives/C02HQ4M2YQN","email":"probation-integration-team@digital.justice.gov.uk"},"license":{"name":"MIT","url":"https://github.com/ministryofjustice/hmpps-probation-integration-services/blob/main/LICENSE"},"version":"1.0"},"servers":[{"url":"/"}],"security":[{"hmpps-auth-token":[]}],"paths":{"/case-details/{crn}/{eventNumber}":{"get":{"tags":["case-details-controller"],"summary":"Probation case information for the Effective Proposals Framework service","description":"<p>Accepts the probation identifier (CRN) and Delius Event number\n            and returns a data structure giving background information on the probation case\n            for use in the Effective Proposals Framework system. The information is used to\n            reduce the need for the EPF user to re-key information already held in Delius.</p>\n            <p>Requires `PROBATION_API__EPF__CASE_DETAIL`.</p>\n        ","operationId":"handle","parameters":[{"name":"crn","in":"path","required":true,"schema":{"type":"string"}},{"name":"eventNumber","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseDetails"}}}},"404":{"description":"A case with the provided CRN does not exist in Delius.\n                    Note: this could be the result of a merge or a deletion.\n            ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseDetails"}}}}}}}},"components":{"schemas":{"Appearance":{"type":"object","properties":{"date":{"type":"string","format":"date"},"court":{"$ref":"#/components/schemas/Court"}},"required":["court","date"]},"CaseDetails":{"type":"object","properties":{"nomsId":{"type":"string"},"name":{"$ref":"#/components/schemas/Name"},"dateOfBirth":{"type":"string","format":"date"},"gender":{"type":"string"},"courtAppearance":{"$ref":"#/components/schemas/Appearance"},"sentence":{"$ref":"#/components/schemas/Sentence"},"responsibleProvider":{"$ref":"#/components/schemas/Provider"},"ogrsScore":{"type":"integer","format":"int64"},"rsrScore":{"type":"number","format":"double"},"limitedAccess":{"$ref":"#/components/schemas/LimitedAccessDetail"},"age":{"type":"integer","format":"int64"},"ageAtRelease":{"type":"integer","format":"int64"}},"required":["age","dateOfBirth","gender","name"]},"Court":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"ExcludedFrom":{"type":"object","properties":{"email":{"type":"string"},"message":{"type":"string"}},"required":["email"]},"LimitedAccessDetail":{"type":"object","properties":{"excludedFrom":{"type":"array","items":{"$ref":"#/components/schemas/ExcludedFrom"}},"restrictedTo":{"type":"array","items":{"$ref":"#/components/schemas/RestrictedTo"}}},"required":["excludedFrom","restrictedTo"]},"Name":{"type":"object","properties":{"forename":{"type":"string"},"middleName":{"type":"string"},"surname":{"type":"string"}},"required":["forename","surname"]},"Provider":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"}},"required":["code","name"]},"RestrictedTo":{"type":"object","properties":{"email":{"type":"string"},"message":{"type":"string"}},"required":["email"]},"Sentence":{"type":"object","properties":{"expectedReleaseDate":{"type":"string","format":"date"}}}},"securitySchemes":{"hmpps-auth-token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}