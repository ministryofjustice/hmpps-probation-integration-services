clients:
  - name: Flipt
    allowed_clients: []
    app_type: regular_web
    callbacks:
      - >-
        https://feature-flags.probation-integration.service.justice.gov.uk/auth/v1/method/oidc/auth0/callback
    client_aliases: []
    cross_origin_auth: false
    custom_login_page_on: true
    grant_types:
      - authorization_code
      - implicit
      - refresh_token
      - client_credentials
    is_first_party: true
    is_token_endpoint_ip_header_trusted: false
    jwt_configuration:
      alg: RS256
      lifetime_in_seconds: 36000
      secret_encoded: false
    logo_uri: https://ministryofjustice.github.io/assets/moj-crest.png
    native_social_login:
      apple:
        enabled: false
      facebook:
        enabled: false
    oidc_conformant: true
    refresh_token:
      expiration_type: non-expiring
      leeway: 0
      infinite_token_lifetime: true
      infinite_idle_token_lifetime: true
      token_lifetime: 2592000
      idle_token_lifetime: 1296000
      rotation_type: non-rotating
    sso_disabled: false
    token_endpoint_auth_method: client_secret_post
    web_origins:
      - https://feature-flags.probation-integration.service.justice.gov.uk
  - name: GitHub Actions
    allowed_clients: []
    app_type: non_interactive
    callbacks: []
    client_aliases: []
    cross_origin_auth: false
    custom_login_page_on: true
    grant_types:
      - client_credentials
    is_first_party: true
    is_token_endpoint_ip_header_trusted: false
    jwt_configuration:
      alg: RS256
      lifetime_in_seconds: 36000
      secret_encoded: false
    native_social_login:
      apple:
        enabled: false
      facebook:
        enabled: false
    oidc_conformant: true
    refresh_token:
      expiration_type: non-expiring
      leeway: 0
      infinite_token_lifetime: true
      infinite_idle_token_lifetime: true
      token_lifetime: 31557600
      idle_token_lifetime: 2592000
      rotation_type: non-rotating
    sso_disabled: false
    token_endpoint_auth_method: client_secret_post
  - name: GitHub Teams Checker
    allowed_clients: []
    app_type: non_interactive
    callbacks: []
    client_aliases: []
    cross_origin_auth: false
    custom_login_page_on: true
    grant_types:
      - client_credentials
    is_first_party: true
    is_token_endpoint_ip_header_trusted: false
    jwt_configuration:
      alg: RS256
      lifetime_in_seconds: 36000
      secret_encoded: false
    native_social_login:
      apple:
        enabled: false
      facebook:
        enabled: false
    oidc_conformant: true
    refresh_token:
      expiration_type: non-expiring
      leeway: 0
      infinite_token_lifetime: true
      infinite_idle_token_lifetime: true
      token_lifetime: 31557600
      idle_token_lifetime: 2592000
      rotation_type: non-rotating
    sso_disabled: false
    token_endpoint_auth_method: client_secret_post
connections:
  - name: github
    strategy: github
    enabled_clients:
      - Flipt
      - GitHub Actions
      - GitHub Teams Checker
    is_domain_connection: false
    options:
      gist: false
      repo: false
      email: true
      scope:
        - user:email
        - read:org
        - read:user
      follow: false
      profile: true
      read_org: true
      admin_org: false
      client_id: e999a2a55fab9549f933
      read_user: true
      write_org: false
      delete_repo: false
      public_repo: false
      repo_status: false
      notifications: false
      read_repo_hook: false
      admin_repo_hook: false
      read_public_key: false
      repo_deployment: false
      write_repo_hook: false
      admin_public_key: false
      write_public_key: false
tenant:
  enabled_locales:
    - en
  flags:
    universal_login: true
    revoke_refresh_token_grant: false
    dashboard_new_onboarding: false
    disable_clickjack_protection_headers: false
  friendly_name: HMPPS Probation Integration
  picture_url: https://ministryofjustice.github.io/assets/moj-crest.png
  sandbox_version: '16'
  support_email: probation-integration-team@digital.justice.gov.uk
  support_url: https://mojdt.slack.com/archives/C02HQ4M2YQN
  universal_login: {}
clientGrants:
  - client_id: GitHub Teams Checker
    audience: https://hmpps-probation-integration.uk.auth0.com/api/v2/
    scope:
      - read:users
      - read:user_idp_tokens
branding:
  logo_url: https://ministryofjustice.github.io/assets/moj-crest.png
  templates: []
prompts:
  customText: {}
  universal_login_experience: new
actions:
  - name: Check GitHub teams
    code: ./actions/Check GitHub teams/code.js
    dependencies: []
    deployed: true
    runtime: node16
    secrets:
      - name: clientId
      - name: clientSecret
      - name: domain
    status: built
    supported_triggers:
      - id: post-login
        version: v3
triggers:
  post-login:
    - action_name: Check GitHub teams
      display_name: Check GitHub teams
attackProtection:
  breachedPasswordDetection:
    enabled: false
    shields: []
    admin_notification_frequency: []
    method: standard
    stage:
      pre-user-registration:
        shields: []
  bruteForceProtection:
    enabled: true
    shields:
      - block
      - user_notification
    mode: count_per_identifier_and_ip
    allowlist: []
    max_attempts: 10
  suspiciousIpThrottling:
    enabled: true
    shields:
      - admin_notification
      - block
    allowlist: []
    stage:
      pre-login:
        max_attempts: 100
        rate: 864000
      pre-user-registration:
        max_attempts: 50
        rate: 1200