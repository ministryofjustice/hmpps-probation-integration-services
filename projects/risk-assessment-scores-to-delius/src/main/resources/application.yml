# Default config
spring.jms:
  template.default-destination: message-queue
  listener:
    concurrency: 1
    max-concurrency: 10
    acknowledge-mode: client

management.endpoints.web:
  base-path: /
  exposure.include: "health"


---
# Shared dev/test config
spring.config.activate.on-profile: [ "dev", "integration-test", "oracle" ]

spring:
  activemq.broker-url: vm://localhost?broker.persistent=false&broker.useShutdownHook=false
  datasource.url: jdbc:h2:file:./dev;MODE=Oracle;DEFAULT_NULL_ORDERING=HIGH;AUTO_SERVER=true;AUTO_SERVER_PORT=9092
  sql.init.mode: always
  sql.init.data-locations: classpath:db/h2.sql

management.endpoints.web:
  base-path: /
  exposure.include: [ "hawtio", "health", "jolokia" ]
hawtio.authenticationEnabled: false

logging.level:
  uk.gov.justice.digital.hmpps: DEBUG
  org.hibernate.tool.schema: ERROR

---
spring.config.activate.on-profile: integration-test
spring.datasource.url: jdbc:h2:file:./test;MODE=Oracle;DEFAULT_NULL_ORDERING=HIGH

---
spring.config.activate.on-profile: oracle
spring:
  sql.init.mode: never
  datasource:
    url: 'jdbc:oracle:thin:@//localhost:1521/XEPDB1'
    username: delius_app_schema
    password: NDelius1
