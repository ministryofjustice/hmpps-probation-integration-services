# Common values
image:
  name: person-search-index-from-delius

reservations:
  cpu: 1024
  memory: 1024

limits:
  cpu: 2048    # = 2 vCPU
  memory: 2048 # = 2 GB

healthcheck:
  command: curl -sf localhost:9600

env:
  JDK_JAVA_OPTIONS: -XX:MaxRAMPercentage=75.0
  PRIMARY_INDEX_NAME: person-search-primary
  STANDBY_INDEX_NAME: person-search-standby

secrets:
  APPLICATIONINSIGHTS_CONNECTION_STRING:  /application-insights/connection-string
  JDBC_CONNECTION_STRING:                 /delius-database/jdbc-standby-url
  JDBC_USER:                              /person-search-index-from-delius/db-username
  JDBC_PASSWORD:                          /person-search-index-from-delius/db-password
  SEARCH_INDEX_USERNAME:                  /person-search-index-from-delius/ingress-username
  SEARCH_INDEX_PASSWORD:                  /person-search-index-from-delius/ingress-password
  SQS_QUEUE_NAME:                         /person-search-index-from-delius/sqs-queue-name
  SQS_QUEUE_ACCESS_KEY_ID:                /person-search-index-from-delius/sqs-queue-access-key-id
  SQS_QUEUE_SECRET_ACCESS_KEY:            /person-search-index-from-delius/sqs-queue-secret-access-key
  SQS_DLQ_NAME:                           /person-search-index-from-delius/sqs-dlq-name
  SQS_DLQ_ACCESS_KEY_ID:                  /person-search-index-from-delius/sqs-dlq-access-key-id
  SQS_DLQ_SECRET_ACCESS_KEY:              /person-search-index-from-delius/sqs-dlq-secret-access-key