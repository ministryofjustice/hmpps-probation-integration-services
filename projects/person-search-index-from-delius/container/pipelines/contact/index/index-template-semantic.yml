index_patterns:
  - contact-semantic-search-*

template:
  settings:
    default_pipeline: contact-semantic-search-pipeline
    index.search.default_pipeline: contact-semantic-search-search-pipeline
    index.knn: true
    index.number_of_shards: 1 # ~= Expected size of data / 50GB
    index.number_of_replicas: 1
    index.mapping.ignore_malformed: true
    analysis:
      analyzer:
        probation_text_analyzer:
          tokenizer: custom-whitespace  # Split words on whitespace while preserving space-separated dates, numbers and postcodes
          filter:
            - asciifolding              # Convert non-ascii characters to ascii (e.g. "Êxâmple.text" => "Example.text")
            - lowercase                 # Convert all characters to lowercase
            - capture_numbers           # Capture consecutive numbers (e.g. "DATE=01-02-03" => ["01-02-03", "DATE=01-02-03"])
            - replace_dialcodes         # Replace dial codes with 0 (e.g. "+44123..." => "0123...")
            - dates_iso8601             # Convert a range of date formats to yyyy-MM-dd
            - dates_month_day_year      #   e.g. "feb 1st 1999" => "01.feb.1999
            - dates_jan                 #   e.g. "1st January 19" => "01.01.19"
            - dates_feb                 #   e.g. "01.feb.99" => "01.02.99"
            - dates_mar                 #   ...
            - dates_apr
            - dates_may
            - dates_jun
            - dates_jul
            - dates_aug
            - dates_sep
            - dates_oct
            - dates_nov
            - dates_dec
            - dates_year_month_day      #   e.g. "1999.02.01" => "01.02.1999"
            - dates_long_year           #   e.g. "01 02 1999" => "01.02.1999"
            - dates_short_year_19       #   e.g. "01 02 99"   => "01.02.1999"
            - dates_short_year_20       #   e.g. "01 02 03"   => "01.02.2003"
            - dates_short_day           #   e.g. "1 02 1999"  => "01.02.1999"
            - dates_short_month         #   e.g. "01 2 1999"  => "01.02.1999"
            - dates_reformat            #   e.g. "01.02.1999" => "1999-02-01"
            - catenate_non_dates        # Combine any numeric fields that haven't been matched as dates (e.g. phone numbers "(0123) 456-789" => "0123456780")
            - override_stemmer          # Exclude words from stemming (e.g. officer and office should be treated separately)
            - stemmer                   # Perform word stemming (e.g. "example" => "exampl" , "testing" => "test")
            - multiword_synonyms        # Combine multi-word synonyms into a single token (e.g. ["unpaid", "work"] => ["unpaid", "work", "unpaid_work"])
            - one_way_synonyms          # Apply one-way synonyms, where a term can mean distinct things (e.g. "assault" => ["abh", "gbh"])
            - probation_synonyms        # Apply probation synonyms (e.g. "unpaid work" => "upw")
            - delimit_words             # Split tokens on punctuation (e.g. "example.text" => ["example.text", "exampletext", "example", "text"])
            - flatten_graph             # Flatten the token graph, so it can be used for indexing
            - trim                      # Trim any whitespace from the start/end of tokens
            - remove_single_chars       # Remove any tokens that are a single character
            - unique_tokens             # Remove any duplicate tokens in the same positions
      tokenizer:
        custom-whitespace:
          type: pattern
          pattern: |
            ( \b\d{1,2}(?:st|nd|rd|th)?[\ \-\./]         # capture space-separated dates (e.g. "1st february 1999", "1 feb 99")
                (?:jan(?:uary)?|feb(?:ruary)?
                  |mar(?:ch)?|apr(?:il)?|may
                  |june?|july?|aug(?:ust)?
                  |sept?(?:ember)?|oct(?:ober)?
                  |(?:nov|dec)(?:ember)?)
                [\ \-\./](?:19|20)?\d{2}\b
            | \b(?:jan(?:uary)?|feb(?:ruary)?            # capture space-separated dates, with month first (e.g. "feb 1st 99", "feb 01 1999")
                  |mar(?:ch)?|apr(?:il)?|may
                  |june?|july?|aug(?:ust)?
                  |sept?(?:ember)?|oct(?:ober)?
                  |(?:nov|dec)(?:ember)?)
                [\ \-\./]\d{1,2}(?:st|nd|rd|th)?
                [\ \-\./](?:19|20)?\d{2}\b
            | \(?\+?\d+[\ \-\./\(\)][\d\ \-\./\(\)]+\d+  # capture space-separated numbers (e.g. "phone 0123 456 78" => ["phone", "0123 456 78"])
            | [a-z]{1,2}\d[a-z\d]?\ \d[a-z]{2}           # capture space-separated postcodes (e.g. "M20 0AA is the postcode" => ["M20 0AA", "is", "the", "postcode"])
            | \b\S+\b                                    # tokenize everything else on whitespace
            )
          flags: CASE_INSENSITIVE|COMMENTS
          group: 1
      filter:
        multiword_synonyms:
          type: synonym
          expand: false
          synonyms:
            - 1.00 am => 1.00_am
            - 2.00 am => 2.00_am
            - 3.00 am => 3.00_am
            - 4.00 am => 4.00_am
            - 5.00 am => 5.00_am
            - 6.00 am => 6.00_am
            - 7.00 am => 7.00_am
            - 8.00 am => 8.00_am
            - 9.00 am => 9.00_am
            - 10.00 am => 10.00_am
            - 11.00 am => 11.00_am
            - 12.00 am => 12.00_am
            - 1.00 pm => 1.00_pm
            - 2.00 pm => 2.00_pm
            - 3.00 pm => 3.00_pm
            - 4.00 pm => 4.00_pm
            - 5.00 pm => 5.00_pm
            - 6.00 pm => 6.00_pm
            - 7.00 pm => 7.00_pm
            - 8.00 pm => 8.00_pm
            - 9.00 pm => 9.00_pm
            - 10.00 pm => 10.00_pm
            - 11.00 pm => 11.00_pm
            - 12.00 pm => 12.00_pm
            - 1 am => 1_am
            - 2 am => 2_am
            - 3 am => 3_am
            - 4 am => 4_am
            - 5 am => 5_am
            - 6 am => 6_am
            - 7 am => 7_am
            - 8 am => 8_am
            - 9 am => 9_am
            - 10 am => 10_am
            - 11 am => 11_am
            - 12 am => 12_am
            - 1 pm => 1_pm
            - 2 pm => 2_pm
            - 3 pm => 3_pm
            - 4 pm => 4_pm
            - 5 pm => 5_pm
            - 6 pm => 6_pm
            - 7 pm => 7_pm
            - 8 pm => 8_pm
            - 9 pm => 9_pm
            - 10 pm => 10_pm
            - 11 pm => 11_pm
            - 12 pm => 12_pm
            - 12 monthly => 12_monthly
            - a domestic => a_domestic
            - a home => a_home
            - acceptable absence => acceptable_absence
            - acc_prog => acc_prog
            - accredited program => accredited_program
            - accredited programme => accredited_programme
            - actual bodily harm => actual_bodily_harm
            - actual end date => actual_end_date
            - after care => after_care
            - air force => air_force
            - alcohol treatment requirement => alcohol_treatment_requirement
            - anti social => anti_social
            - anti depressants => anti_depressants
            - approved premise => approved_premise
            - approved premises => approved_premises
            - assessment care in custody and teamwork => assessment_care_in_custody_and_teamwork
            - assessment, care in custody and teamwork => assessment_care_in_custody_and_teamwork
            - assistant chief officer => assistant_chief_officer
            - at large => at_large
            - attention deficit hyperactivity disorder => attention_deficit_hyperactivity_disorder
            - automatic conditional release => automatic_conditional_release
            - automatic release date => automatic_release_date
            - bail accommodation => bail_accommodation
            - bail accommodation support service => bail_accommodation_support_service
            - bail hostel => bail_hostel
            - black asian and minority ethnic => black_asian_and_minority_ethnic
            - black, asian and minority ethnic => black_asian_and_minority_ethnic
            - basic custody screening => basic_custody_screening
            - basic custody screening tool => basic_custody_screening_tool
            - becoming new me sex offender treatment program => becoming_new_me_sex_offender_treatment_program
            - becoming new me sex offender treatment programme => becoming_new_me_sex_offender_treatment_programme
            - birth date => birth_date
            - building better relationships => building_better_relationships
            - calm programme => calm_programme
            - calm program => calm_program
            - care experienced => care_experienced
            - care home => care_home
            - care needs => care_needs
            - cas 1 => cas_1
            - cas 2 => cas_2
            - cas 3 => cas_3
            - case admin => case_admin
            - case administrator => case_administrator
            - cell share risk assessment => cell_share_risk_assessment
            - child in need => child_in_need
            - child protection => child_protection
            - children and family court advisory and support service => children_and_family_court_advisory_and_support_service
            - children and young people service => children_and_young_people_service
            - childrens services => childrens_services
            - children's services => childrens_services
            - circles of support => circles_of_support
            - close supervision centre => close_supervision_centre
            - commissioned rehabilitative services => commissioned_rehabilitative_services
            - commissioned services => commissioned_services
            - community domestic violence programme => community_domestic_violence_programme
            - community order => community_order
            - community mental health team => community_mental_health_team
            - community payback => community_payback
            - community punishment and rehabilitation order => community_punishment_and_rehabilitation_order
            - community punishment order => community_punishment_order
            - community rehabilitation company => community_rehabilitation_company
            - community rehabilitation order => community_rehabilitation_order
            - community service => community_service
            - community sex offender group programme => community_sex_offender_group_programme
            - conditional release date => conditional_release_date
            - construction skills certification scheme => construction_skills_certification_scheme
            - control of violence for angry impulsive drinkers => control_of_violence_for_angry_impulsive_drinkers
            - controlling anger and learning to manage it program => controlling_anger_and_learning_to_manage_it_program
            - controlling anger and learning to manage it programme => controlling_anger_and_learning_to_manage_it_programme
            - court admin => court_admin
            - court administrator => court_administrator
            - community protection notice => community_protection_notice
            - community psychiatric nurse => community_psychiatric_nurse
            - courts and tribunals service => courts_and_tribunals_service
            - criminal justice act => criminal_justice_act
            - criminal justice system => criminal_justice_system
            - crn court => crn_court
            - crn crt => crn_crt
            - crown court => crown_court
            - crown crt => crown_crt
            - crown prosecution service => crown_prosecution_service
            - date of birth => date_of_birth
            - department of health and social security => department_of_health_and_social_security
            - department for work and pensions => department_for_work_and_pensions
            - detective constable => detective_constable
            - disclosure and barring service => disclosure_and_barring_service
            - discretionary release date => discretionary_release_date
            - domestic abuse => domestic_abuse
            - domestic abuse protection order => domestic_abuse_protection_order
            - domestic abuse safety officer => domestic_abuse_safety_officer
            - domestic abuse stalking and harassment => domestic_abuse_stalking_and_harassment
            - domestic abuse, stalking and harassment => domestic_abuse_stalking_and_harassment
            - domestic violence => domestic_violence
            - did program => did_program
            - drink-impaired driver program => drink-impaired_driver_program
            - drink impaired driver program => drink_impaired_driver_program
            - did programme => did_programme
            - drink-impaired driver programme => drink-impaired_driver_programme
            - drink impaired driver programme => drink_impaired_driver_programme
            - did session => did_session
            - drink-impaired driver session => drink-impaired_driver_session
            - drink impaired driver session => drink_impaired_driver_session
            - drug intervention programme => drug_intervention_programme
            - drug rehabilitation requirement => drug_rehabilitation_requirement
            - drug treatment requirement => drug_treatment_requirement
            - duty to refer => duty_to_refer
            - domestic violence unit => domestic_violence_unit
            - earliest release date => earliest_release_date
            - early release => early_release
            - early removal => early_removal
            - education training and employment => education_training_and_employment
            - education, training and employment => education_training_and_employment
            - education training employment => education_training_employment
            - electronic monitoring => electronic_monitoring
            - electronic monitoring services => electronic_monitoring_services
            - email a prisoner => email_a_prisoner
            - end date => end_date
            - end of custody licence => end_of_custody_licence
            - end of custody supervision licence => end_of_custody_supervision_licence
            - english for speakers of other languages => english_for_speakers_of_other_languages
            - ex-armed services personnel => ex-armed_services_personnel
            - exceptional delivery model => exceptional_delivery_model
            - expected release date => expected_release_date
            - failed to attend => failed_to_attend
            - failed to comply => failed_to_comply
            - failed to report => failed_to_report
            - faith related => faith_related
            - final sentence plan => final_sentence_plan
            - fit note => fit_note
            - fixed term recall => fixed_term_recall
            - fixed-term recall => fixed-term_recall
            - foster care => foster_care
            - further offence => further_offence
            - further offences => further_offences
            - general practitioner => general_practitioner
            - girl friend => girl_friend
            - grand child => grand_child
            - grand children => grand_children
            - grand dad => grand_dad
            - grand kid => grand_kid
            - grand ma => grand_ma
            - grand mother => grand_mother
            - greater manchester police => greater_manchester_police
            - grievous bodily harm => grievous_bodily_harm
            - hand over => hand_over
            - hate crime => hate_crime
            - hdc expected date => hdc_expected_date
            - health authority => health_authority
            - health board => health_board
            - health service => health_service
            - home detention curfew => home_detention_curfew
            - home office => home_office
            - home visit => home_visit
            - home visit risk assessment => home_visit_risk_assessment
            - homelessness prevention team => homelessness_prevention_team
            - immigration act => immigration_act
            - immigration detention => immigration_detention
            - immigration removal centre => immigration_removal_centre
            - incentives and earned privileges => incentives_and_earned_privileges
            - incentives and earned privileges scheme => incentives_and_earned_privileges_scheme
            - independent domestic violence advisor => independent_domestic_violence_advisor
            - independent inquiry into child sexual abuse => independent_inquiry_into_child_sexual_abuse
            - indeterminate sentence for public protection => indeterminate_sentence_for_public_protection
            - initial sentence plan => initial_sentence_plan
            - integrated accredited programmes system => integrated_accredited_programmes_system
            - integrated accredited programs system => integrated_accredited_programs_system
            - integrated domestic abuse program => integrated_domestic_abuse_program
            - integrated domestic abuse programme => integrated_domestic_abuse_programme
            - integrated drug and treatment system => integrated_drug_and_treatment_system
            - integrated offender management => integrated_offender_management
            - intensive supervision => intensive_supervision
            - internet sex offender treatment program => internet_sex_offender_treatment_program
            - internet sex offender treatment programme => internet_sex_offender_treatment_programme
            - ka ks => ka_ks
            - kent surrey and sussex probation service => kent_surrey_and_sussex_probation_service
            - kent, surrey and sussex probation service => kent_surrey_and_sussex_probation_service
            - key worker => key_worker
            - licence condition => licence_condition
            - living as new me sex offender treatment program => living_as_new_me_sex_offender_treatment_program
            - living as new me sex offender treatment programme => living_as_new_me_sex_offender_treatment_programme
            - local admin unit => local_admin_unit
            - local delivery unit => local_delivery_unit
            - london probation => london_probation
            - london probation area => london_probation_area
            - london probation service => london_probation_service
            - london probation trust => london_probation_trust
            - low intensity alcohol programs => low_intensity_alcohol_programs
            - low intensity alcohol programmes => low_intensity_alcohol_programmes
            - mag court => mag_court
            - magistrates court => magistrates_court
            - magistrates' court => magistrates_court
            - mags court => mags_court
            - mags crt => mags_crt
            - mandatory drug testing => mandatory_drug_testing
            - mental capacity act => mental_capacity_act
            - mental health => mental_health
            - mental health treatment requirement => mental_health_treatment_requirement
            - ministry of justice => ministry_of_justice
            - move on => move_on
            - multiagency public protection arrangements => multi-agency_public_protection_arrangements
            - multi-agency public protection arrangements => multi-agency_public_protection_arrangements
            - multi agency public protection arrangements => multi-agency_public_protection_arrangements
            - multiagency public protection prisoner => multi-agency_public_protection_prisoner
            - multi-agency public protection prisoner => multi-agency_public_protection_prisoner
            - multi agency public protection prisoner => multi-agency_public_protection_prisoner
            - multiagency risk assessment conference => multi-agency_risk_assessment_conference
            - multi-agency risk assessment conference => multi-agency_risk_assessment_conference
            - multi agency risk assessment conference => multi-agency_risk_assessment_conference
            - multiagency safeguarding hub => multi-agency_safeguarding_hub
            - multi-agency safeguarding hub => multi-agency_safeguarding_hub
            - multi agency safeguarding hub => multi-agency_safeguarding_hub
            - national association for the care and resettlement of offenders => national_association_for_the_care_and_resettlement_of_offenders
            - national delius => national_delius
            - national health service => national_health_service
            - national insurance => national_insurance
            - national insurance number => national_insurance_number
            - national offender management service => national_offender_management_service
            - national standards => national_standards
            - north east prison after care society => north_east_prison_after_care_society
            - north east prison aftercare society => north_east_prison_after_care_society
            - north east prison after-care society => north_east_prison_after_care_society
            - new me => new_me
            - new me coping sex offender treatment program => new_me_coping_sex_offender_treatment_program
            - new me coping sex offender treatment programme => new_me_coping_sex_offender_treatment_programme
            - new me strengths sex offender treatment program => new_me_strengths_sex_offender_treatment_program
            - new me strengths sex offender treatment programme => new_me_strengths_sex_offender_treatment_programme
            - ni number => ni_number
            - nomis id => nomis_id
            - nomis number => nomis_number
            - noms id => noms_id
            - noms no => noms_no
            - noms number => noms_number
            - non parole date => non_parole_date
            - non-statutory intervention => non-statutory_intervention
            - non statutory intervention => non_statutory_intervention
            - non-parole date => non-parole_date
            - oasys sexual reoffending predictor => oasys_sexual_reoffending_predictor
            - offender assessment system => offender_assessment_system
            - offender group reconviction scale => offender_group_reconviction_scale
            - offender manager => offender_manager
            - offender management => offender_management
            - offender management in custody => offender_management_in_custody
            - offender management unit => offender_management_unit
            - offender personality disorder => offender_personality_disorder
            - office visit => office_visit
            - oral report => oral_report
            - organised crime group => organised_crime_group
            - out of hours => out_of_hours
            - parole assessment report => parole_assessment_report
            - parole board review date => parole_board_review_date
            - parole eligibility date => parole_eligibility_date
            - parole request date => parole_request_date
            - parom 1 => parom_1
            - passed away => passed_away
            - per annum => per_annum
            - person on probation => person_on_probation
            - person on probation's => person_on_probations
            - person on probations => person_on_probations
            - personal independence payment => personal_independence_payment
            - plea and trial preparation hearing => plea_and_trial_preparation_hearing
            - police community support officer => police_community_support_officer
            - police constable => police_constable
            - police management of sexual or violent offenders => police_management_of_sexual_or_violent_offenders
            - police national network => police_national_network
            - police officer => police_officer
            - persons posing a risk to children => persons_posing_a_risk_to_children
            - pom handover expected start date => pom_handover_expected_start_date
            - pop's => pops
            - post sentence supervision => post_sentence_supervision
            - post sentence supervision end date => post_sentence_supervision_end_date
            - post sentence supervision expiry date => post_sentence_supervision_expiry_date
            - post sentence supervision requirement => post_sentence_supervision_requirement
            - post-sentence supervision => post-sentence_supervision
            - post-sentence supervision end date => post-sentence_supervision_end_date
            - post-sentence supervision expiry date => post-sentence_supervision_expiry_date
            - post-sentence supervision requirement => post-sentence_supervision_requirement
            - pre-sentence report => pre-sentence_report
            - presentence report => presentence_report
            - previous convictions => previous_convictions
            - prison advice and care trust => prison_advice_and_care_trust
            - prison and probation service => prison_and_probation_service
            - prison key worker assessment session => - prison_key_worker_assessment_session
            - prison offender manager => prison_offender_manager
            - prison service => prison_service
            - probation delivery unit => probation_delivery_unit
            - probation officer => probation_officer
            - probation order => probation_order
            - probation service => probation_service
            - problem solving court => problem_solving_court
            - prolific priority offender => prolific_priority_offender
            - public health england => public_health_england
            - public health wales => public_health_wales
            - public protection casework section => public_protection_casework_section
            - public protection unit => public_protection_unit
            - public protection unit database => public_protection_unit_database
            - racially motivated => racially_motivated
            - re-release date => re-release_date
            - registered sex offender => registered_sex_offender
            - rehabilitation activity requirement => rehabilitation_activity_requirement
            - rehabilitative services => rehabilitative_services
            - release date => release_date
            - release on temporary licence => release_on_temporary_licence
            - release review date => release_review_date
            - remand in custody => remand_in_custody
            - resettlement day release => resettlement_day_release
            - responsible officer => responsible_officer
            - restorative justice => restorative_justice
            - retirement benefit => retirement_benefit
            - risk management plan => risk_management_plan
            - risk of harm => risk_of_harm
            - risk of reoffending => risk_of_reoffending
            - risk of serious harm => risk_of_serious_harm
            - risk of serious recidivism => risk_of_serious_recidivism
            - risk of sexual harm order => risk_of_sexual_harm_order
            - ro responsibility handover from pom to om expected date => ro_responsibility_handover_from_pom_to_om_expected_date
            - rotl end date => rotl_end_date
            - safe guarding => safe_guarding
            - secure hospital => secure_hospital
            - secure training centre => secure_training_centre
            - selfassessment questionnaire => self-assessment_questionnaire
            - self-assessment questionnaire => self-assessment_questionnaire
            - self assessment questionnaire => self-assessment_questionnaire
            - self harm => self_harm
            - self inflicted death => self_inflicted_death
            - self-inflicted death => self-inflicted_death
            - senior probation officer => senior_probation_officer
            - sentence expiry date => sentence_expiry_date
            - sentence plan => sentence_plan
            - serious further offence => serious_further_offence
            - serious further offences => serious_further_offences
            - sex offender management unit => sex_offender_management_unit
            - sex offender treatment program => sex_offender_treatment_program
            - sex offender treatment programme => sex_offender_treatment_programme
            - sexual harm prevention order => sexual_harm_prevention_order
            - sex offender register => sex_offender_register
            - sexual offending prevention order => sexual_offending_prevention_order
            - sexual risk order => sexual_risk_order
            - short format report => short_format_report
            - short term accommodation => short_term_accommodation
            - short-format report => short-format_report
            - short-term accommodation => short-term_accommodation
            - sick note => sick_note
            - single point of contact => single_point_of_contact
            - social security => social_security
            - social services => social_services
            - spousal assault risk assessment => spousal_assault_risk_assessment
            - strategic health authority => strategic_health_authority
            - structured assessment of risk and need => structured_assessment_of_risk_and_need
            - structured intervention => structured_intervention
            - subject access request => subject_access_request
            - substance abuse => substance_abuse
            - substance misuse => substance_misuse
            - suicide and self harm => suicide_and_self_harm
            - suicide and self-harm => suicide_and_self_harm
            - suicide and selfharm => suicide_and_self_harm
            - suspended sentence order => suspended_sentence_order
            - tariff date => tariff_date
            - telephone call => telephone_call
            - temporary accommodation => temporary_accommodation
            - temporary licence => temporary_licence
            - temporary release => temporary_release
            - terrorism act => terrorism_act
            - thinking skills program => thinking_skills_program
            - thinking skills programme => thinking_skills_programme
            - through the gate => through_the_gate
            - time table => time_table
            - top-up supervision => top-up_supervision
            - top-up supervision end date => top-up_supervision_end_date
            - top-up supervision expiry date => top-up_supervision_expiry_date
            - transitional housing => transitional_housing
            - unacceptable absence => unacceptable_absence
            - unacceptable behaviour => unacceptable_behaviour
            - universal credit => universal_credit
            - unlawfully at large => unlawfully_at_large
            - unpaid work => unpaid_work
            - unpaid work operations manager => unpaid_work_operations_manager
            - unpaid work senior responsible officer => unpaid_work_senior_responsible_officer
            - upw om => upw_om
            - upw sro => upw_sro
            - victims liaison officer => victims_liaison_officer
            - victims liasion unit => victims_liasion_unit
            - violent and sex offender register => violent_and_sex_offender_register
            - warrant not backed bail => warrant_not_backed_bail
            - warrant without bail => warrant_without_bail
            - womens safety officer => womens_safety_officer
            - women's safety officer => womens_safety_officer
            - womens safety worker => womens_safety_worker
            - women's safety worker => womens_safety_worker
            - work capability assessment => work_capability_assessment
            - work from home => work_from_home
            - young offender institution => young_offender_institution
            - youth offending service => youth_offending_service
            - youth offending team => youth_offending_team
        one_way_synonyms:
          type: synonym
          expand: false
          synonyms:
            - abuse => cruelty, bullying, domestic_violence, incest
            - ap => accredited_programme, approved_premises
            - assault => abh, gbh
            - community_order => co, probation_order, cro, cpo, cpro, sso
            - court => magistrates_court, crown_court
            - cp => community_payback, child_protection
            - cpn => community_protection_notice, community_psychiatric_nurse
            - partner => husband, wife, boyfriend, girlfriend
        probation_synonyms:
          type: synonym
          expand: false
          synonyms:
            - 1, one
            - 2, two
            - 3, three
            - 4, four
            - 5, five
            - 6, six
            - 7, seven
            - 8, eight
            - 9, nine
            - 10, ten
            - 11, eleven
            - 12, twelve
            - 13, thirteen
            - 14, fourteen
            - 15, fifteen
            - 16, sixteen
            - 17, seventeen
            - 18, eighteen
            - 19, nineteen
            - 20, twenty
            - 30, thirty
            - 40, forty
            - 50, fifty
            - 60, sixty
            - 70, seventy
            - 80, eighty
            - 90, ninety
            - 1am, 1_am, 0100, 01.00, 1.00_am
            - 2am, 2_am, 0200, 02.00, 2.00_am
            - 3am, 3_am, 0300, 03.00, 3.00_am
            - 4am, 4_am, 0400, 04.00, 4.00_am
            - 5am, 5_am, 0500, 05.00, 5.00_am
            - 6am, 6_am, 0600, 06.00, 6.00_am
            - 7am, 7_am, 0700, 07.00, 7.00_am
            - 8am, 8_am, 0800, 08.00, 8.00_am
            - 9am, 9_am, 0900, 09.00, 9.00_am
            - 10am, 10_am, 1000, 10.00_am
            - 11am, 11_am, 1100, 11.00_am
            - 12pm, 12_pm, 1200, 12.00, midday, mid-day, noon
            - 1pm, 1_pm, 1300, 13.00
            - 2pm, 2_pm, 1400, 14.00
            - 3pm, 3_pm, 1500, 15.00
            - 4pm, 4_pm, 1600, 16.00
            - 5pm, 5_pm, 1700, 17.00
            - 6pm, 6_pm, 1800, 18.00
            - 7pm, 7_pm, 1900, 19.00
            - 8pm, 8_pm, 2000, 20.00
            - 9pm, 9_pm, 2100, 21.00
            - 10pm, 10_pm, 2200, 22.00
            - 11pm, 11_pm, 2300, 23.00
            - 12am, 12_am, 0000, 00.00, midnight, mid-night
            - morning, 8_am, 9_am, 10_am, 11_am
            - abh, actual_bodily_harm
            - abs, absence, failed_to_attend, fta
            - acceptable, acceptable_absence, aa
            - accom, accommodation, housing, home, location, addr, address
            - acct, assessment_care_in_custody_and_teamwork
            - aco, assistant_chief_officer
            - acr, automatic_conditional_release, crd, conditional_release_date, ard, automatic_release_date
            - adhd, attention_deficit_hyperactivity_disorder
            - adj, adjourned
            - admission, admitted
            - aftercare, after_care, after-care
            - afternoon, pm
            - alc, alcohol, booze, drinking, drunk, drunkenness
            - annual, yearly, 12_monthly, 12monthly, per_annum
            - antidepressants, anti-depressants, anti_depressants
            - antisocial, anti_social, anti-social, asbo
            - appointment, office_visit, visit, attendance, appt
            - atr, alcohol_treatment_requirement
            - att, attend, attended, attendance
            - bame, black_asian_and_minority_ethnic
            - bbr, building_better_relationships
            - bcs, basic_custody_screening, bcst, basic_custody_screening_tool
            - birth, maternity
            - ca, case_admin, case_administrator, court_admin, court_administrator, admin, administrator
            - cafcass, children_and_family_court_advisory_and_support_service
            - calm_programme, calm_program, controlling_anger_and_learning_to_manage_it_programme, controlling_anger_and_learning_to_manage_it_program
            - care, care_needs, social_services, care_experienced, care_home, a_home
            - cas1, cas_1, approved_premises, approved_premise, hostel
            - cas2, cas_2, bass, bail_accommodation, bail_accommodation_support_service, bail_hostel
            - cas3, cas_3, transitional_housing, temporary_accommodation, short-term_accommodation, short_term_accommodation
            - cdvp, community_domestic_violence_programme, community_domestic_violence_program
            - cert, certificate, certification, award, qualification
            - child, children, kid, kids
            - chronology, timeline, time line
            - cja, criminal_justice_act
            - cin, child_in_need
            - cjs, criminal_justice_system
            - client, offender, pop, person_on_probation, probationer
            - cmht, community_mental_health_team
            - co, community_order
            - comm, communication, communications
            - comp, comply, complied
            - conviction, sentence, event, order, disposal
            - cosa, circles_of_support
            - covaid, control_of_violence_for_angry_impulsive_drinkers
            - cpo, community_punishment_order
            - cpro, community_punishment_and_rehabilitation_order
            - cps, crown_prosecution_service
            - cro, community_rehabilitation_order
            - crown_court, crown_crt, crn_court, crn_crt
            - crt, court
            - cs, childrens_services
            - csc, close_supervision_centre
            - cscs, construction_skills_certification_scheme
            - csogp, community_sex_offender_group_programme, community_sex_offender_group_program
            - csra, cell_share_risk_assessment
            - custody, prison, remand, establishment, irc, immigration_removal_centre, secure_hospital
            - cyps, children_and_young_people_service
            - da, dad, father
            - dapo, domestic_abuse_protection_order
            - dash, domestic_abuse_stalking_and_harassment
            - daso, domestic_abuse_safety_officer, wso, womens_safety_officer, wsw, womens_safety_worker, vlo, victims_liaison_officer, liaison
            - dbs, disclosure_and_barring_service
            - dc, detective_constable
            - dcr, discretionary_release_date
            - departure, move_on, move-on, leave
            - deported, deportation, early_removal
            - dhss, department_of_health_and_social_security, social_security
            - did_program, drink-impaired_driver_program, drink_impaired_driver_program, did_programme, drink-impaired_driver_programme, drink_impaired_driver_programme, did_session, drink-impaired_driver_session, drink_impaired_driver_session
            - died, passed_away, dead
            - dip, drug_intervention_programme, drug_intervention_program
            - disq, disqualified
            - dob, date_of_birth, birthday, birth_date, birthdate
            - docs, documents, letters, reports
            - drg, drug, drugs, substance_misuse, substance_abuse, glue
            - dro, debt_relief_order
            - drr, drug_rehabilitation_requirement
            - dtr, drug_treatment_requirement
            - dv, da, domestic_abuse, domestic_violence, a_domestic
            - dvu, domestic_violence_unit
            - dwp, department_for_work_and_pensions
            - ecl, end_of_custody_licence
            - ecsl, end_of_custody_supervision_licence, early_release
            - edm, exceptional_delivery_model
            - em, electronic_monitoring, curfew, tag
            - emap, email_a_prisoner
            - ems, electronic_monitoring_services
            - erd, earliest_release_date
            - esol, english_for_speakers_of_other_languages
            - ete, education, training, employment, education_training_employment, education_training_and_employment, training
            - ex-asp, ex-armed_services_personnel, veteran, army, navy, air force, airforce, raf, marines, reservist, territorial
            - excl, exclusion
            - exposure, flashing
            - fostercare, foster_care, foster-care
            - fta, failed_to_attend, failed_to_report, absent, absence, ua, unacceptable_absence
            - ftc, failed_to_comply, unacceptable_behaviour
            - ftr, fixed_term_recall, fixed-term recall, fixed-term-recall, recall
            - gbh, grievous_bodily_harm
            - gf, girlfriend, girl_friend, wife
            - gmp, greater_manchester_police
            - gp, doctor, doctors, general_practitioner, consultant, psychologist
            - grandad, grand dad, grandfather, gramp, grampa
            - grandchild, grand_child, grandkid, grand_kid, grand_children, grandchildren, grandkids
            - grandma, grand_ma, grandmother, grand_mother, gran, granny, nan, nana
            - handover, h/o, hand_over, hand-over
            - harm, rosh, rosha, risk_of_serious_harm, risk_of_harm, roh, risk
            - hate_crime, hate-crime, racially_motivated, homophobic, faith_related, transphobic, racist, racism
            - hdc, home_detention_curfew
            - hde, hdc expected date
            - hmcts, courts_and_tribunals_service
            - hmp, prison
            - hmpps, prison_and_probation_service
            - hmps, prison_service
            - ho, home_office, home-office
            - homeless, homelessness, duty_to_refer, duty-to-refer, nfa
            - hours, hrs
            - hpt, homelessness_prevention_team
            - husband, boyfriend
            - hv, home_visit
            - hvra, home_visit_risk_assessment
            - iaps, integrated_accredited_programmes_system, integrated_accredited_programs_system
            - idap, integrated_domestic_abuse_programme, integrated_domestic_abuse_program
            - idts, integrated_drug_and_treatment_system
            - idva, independent_domestic_violence_advisor
            - iep, incentives_and_earned_privileges
            - ieps, incentives_and_earned_privileges_scheme
            - iicsa, independent_inquiry_into child_sexual_abuse
            - ill, sick, unfit, unwell
            - intro, introduction
            - iom, integrated_offender_management
            - iom, intensive_supervision, restorative_justice, problem_solving_court
            - irc, immigration_removal_centre, immigration_detention
            - isotp, i-sotp, internet_sex_offender_treatment_programme, internet_sex_offender_treatment_program
            - isp, initial_sentence_plan, fsp, final_sentence_plan, sentence_plan
            - ispp, ipp, indeterminate_sentence_for_public_protection
            - is91, immigration_act
            - ka_ks, prison_key_worker_assessment_session
            - kssps, kent_surrey_and_sussex_probation_service
            - kw, key_worker, keyworker, key-worker
            - lau, local_admin_unit, district
            - ldu, local_delivery_unit, pdu, probation_delivery_unit, cluster, borough
            - liap, low_intensity_alcohol_programmes, low_intensity_alcohol_programs
            - lic, lc, licence_condition, licence, licence_cond, licence_cons, licence_conds, licence_con, licence_condts
            - londonps, london_probation_service
            - lp, lpt, ldn, london, london_probation, london_probation_trust, london_probation_area
            - mappa, multi-agency_public_protection_arrangements
            - mappp, multi-agency_public_protection_prisoner
            - marac, multi-agency_risk_assessment_conference
            - mash, multi-agency_safeguarding_hub
            - mc, magistrates_court, mags_court, mags_crt, mags, mag_court
            - mca, mental_capacity_act
            - mdt, mandatory_drug_testing
            - medication, medicine, prescription, naloxone, meds
            - mh, mental_health
            - mhtr, mental_health_treatment_requirement
            - min, minutes
            - moj, ministry_of_justice
            - mom, mum, mother
            - mosovo, police_management_of_sexual_or_violent_offenders
            - msg, message, text, email, sms
            - nacro, national_association_for_the_care_and_resettlement_of_offenders
            - nd, national_delius, delius, ndelius
            - nepacs, north_east_prison_after_care_society
            - new_me, bnm, becoming_new_me_sex_offender_treatment_programme, becoming_new_me_sex_offender_treatment_program, lmn, living_as_new_me_sex_offender_treatment_programme, living_as_new_me_sex_offender_treatment_program, nmc, new_me_coping_sex_offender_treatment_programme, new_me_coping_sex_offender_treatment_program, nms, new_me_strengths_sex_offender_treatment_programme, new_me_strengths_sex_offender_treatment_program
            - nhs, national_health_service
            - nino, national_insurance_number, nin, ni_number, national_insurance
            - nomis, p-nomis
            - nomis_number, noms_number, noms_no, noms_id, nomis_id
            - noms, national_offender_management_service
            - npd, npl, non_parole_date, non-parole_date
            - nsi, commissioned_services, commissioned_rehabilitative_services, rehabilitative_services, crs, intervention, structured_intervention, accredited_programme, accredited_program, acc_prog, si, ap, programme, program, national_standards, non_statutory_intervention, non-statutory_intervention
            - oasys, offender_assessment_system
            - ocg, organised_crime_group
            - offence, offences, crime, crimes
            - offender_management, supervision, contact
            - ogrs, offender_group_reconviction_scale
            - omic, offender_management_in_custody
            - omu, offender_management_unit
            - ooh, out_of_hours, out-of-hours
            - opd, offender_personality_disorder
            - osp, oasys_sexual_reoffending_predictor
            - pact, prison_advice_and_care_trust
            - parom, parom1, parom 1, parole_assessment_report
            - pc, police_constable, constable, police_officer
            - pcso, police_community_support_officer
            - ped, parole_eligibility_date
            - pension, retirement, retirement_benefit
            - phe, public_health_england, health_service, phw, public_health_wales
            - pip, personal_independence_payment
            - placement, project, schedule
            - pnn, police_national_network
            - pom, prison_offender_manager
            - pops, person_on_probations
            - ppcs, public_protection_casework_section
            - ppo, prolific_priority_offender
            - pprc, persons_posing_a_risk_to_children
            - ppu, public_protection_unit
            - ppud, public_protection_unit_database
            - precons, previous_convictions, pre-cons
            - probation, probation_service, ps, nps, crc, community_rehabilitation_company, trust, provider
            - prq, parole_request_date
            - psr, pre-sentence_report, presentence_report, sfr, short_format_report, short-format_report, oral_report
            - pss, pssr, post_sentence_supervision, post-sentence_supervision, post_sentence_supervision_requirement, post-sentence_supervision_requirement, top-up_supervision
            - ptph, plea_and_trial_preparation_hearing
            - rar, rehabilitation_activity_requirement
            - rdr, resettlement_day_release
            - referal, referral
            - register, registration, globe, alert
            - rehab, rehabilitation
            - resettlement, throughcare, ttg, through_the_gate, through-the-gate
            - ric, remand_in_custody
            - rmp, risk_management_plan
            - ror, risk_of_reoffending
            - rotl, temporary_release, temporary_licence, release_on_temporary_licence
            - rotld, rotl_end_date
            - rrr, release_review_date
            - rsho, risk_of_sexual_harm_order
            - rso, registered_sex_offender
            - rsr, risk_of_serious_recidivism
            - safe_guarding, safeguarding, safe-guarding, protection, vulnerable, vulnerability
            - saq, self-assessment_questionnaire
            - sar, subject_access_request
            - sara, spousal_assault_risk_assessment
            - sarn, structured_assessment_of_risk_and_need
            - sash, suicide_and_self_harm
            - sed, sentence_expiry_date
            - selfharm, self-harm, self_harm, suicide, self-inflicted_death, self_inflicted_death
            - sex, sexual
            - sfo, serious_further_offence, serious_further_offences, further_offence, further_offences
            - shpo, sexual_harm_prevention_order, sopo, sexual_offending_prevention_order, sro, sexual_risk_order
            - slavery, exploitation
            - somu, sex_offender_management_unit
            - sor, sex_offender_register
            - sotp, sex_offender_treatment_programme, sex_offender_treatment_program
            - sp, sentence_plan
            - spo, senior, senior_probation_officer
            - spoc, single_point_of_contact
            - ss, social_services
            - sso, suspended_sentence_order
            - stc, secure_training_centre
            - std, standard
            - strategic_health_authority, health_authority, health_board
            - tact, terrorism_act
            - tc, t/c, telephone_call
            - td01, parole_board_review_date
            - tfr, transfer
            - timetable, time_table, time-table
            - trf, tariff_date
            - tsp, thinking_skills_programme, thinking_skills_program
            - tused, pssed, tssed, top-up_supervision_expiry_date, top-up_supervision_end_date, post_sentence_supervision_expiry_date, post-sentence_supervision_expiry_date, post-sentence_supervision_end_date, post_sentence_supervision_end_date
            - ual, unlawfully_at_large, escaped, at_large, wwb, warrant_without_bail
            - uc, universal_credit, benefits
            - upw, unpaid_work, community_payback
            - upw_om, unpaid_work_operations_manager
            - upw_sro, unpaid_work_senior_responsible_officer
            - visor, violent_and_sex_offender_register
            - vlu, victims_liasion_unit
            - wca, work_capability_assessment, fit_note, sick_note
            - wfh, work_from_home
            - wnbb, warrant_not_backed_bail
            - wso, womens_safety_officer
            - youth, youth_offending_service, youth_offending_team, yot, borstal, yoi, young_offender_institution, yos
            - yrs, years
        delimit_words:
          type: word_delimiter_graph
          preserve_original: true
          generate_number_parts: false
        remove_single_chars:
          type: length
          min: 2
        override_stemmer:
          type: stemmer_override
          rules:
            - officer => officer
            - officers => officer
            - office => office
            - offices => office
            - nps => nps
            - one => one
            - nomis => nomis
            - delius => delius
            - ndelius => ndelius
            - nationaldelius => nationaldelius
        capture_numbers:
          type: pattern_capture
          preserve_original: true
          patterns:
            - (\d{4}-\d{2}-\d{2})t00:00:00(?:\.000)?z? # iso8601 dates (e.g. "2001-02-03T00:00:00.000Z" => "2001-02-03")
            - (\d+[\d\W]+\d+)                          # any delimited numbers (e.g. "0123-456 789")
        replace_dialcodes:
          type: pattern_replace
          preserve_original: true
          pattern: ^(?:00|\+)?44\W*0?(.*)$
          replacement: 0$1
        dates_iso8601:
          type: pattern_replace
          pattern: ^(\d{4})-(\d{2})-(\d{2})t\d{2}:00:00(?:\.000)?z?$
          replacement: $3.$2.$1
        dates_month_day_year:
          type: pattern_replace
          pattern: ^(jan(?:uary)?|feb(?:ruary)?|mar(?:ch)?|apr(?:il)?|may|june?|july?|aug(?:ust)?|sept?(?:ember)?|oct(?:ober)?|(?:nov|dec)(?:ember)?)[\s\-\./](\d{1,2})(?:st|nd|rd|th)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $2.$1.$3
        dates_jan:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]jan(?:uary)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.01.$2
        dates_feb:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]feb(?:ruary)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.02.$2
        dates_mar:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]mar(?:ch)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.03.$2
        dates_apr:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]apr(?:il)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.04.$2
        dates_may:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]may[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.05.$2
        dates_jun:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]june?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.06.$2
        dates_jul:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]july?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.07.$2
        dates_aug:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]aug(?:ust)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.08.$2
        dates_sep:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]sept?(?:ember)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.09.$2
        dates_oct:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]oct(?:ober)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.10.$2
        dates_nov:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]nov(?:ember)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.11.$2
        dates_dec:
          type: pattern_replace
          pattern: ^(\d{1,2})(?:st|nd|rd|th)?[\s\-\./]dec(?:ember)?[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.12.$2
        dates_year_month_day:
          type: pattern_replace
          pattern: ^((?:19|20)\d{2})[\s\-\./]?(0?[1-9]|1[0-2])[\s\-\./]?(\d{2})$
          replacement: $3.$2.$1
        dates_long_year:
          type: pattern_replace
          pattern: ^(\d{1,2})[\s\-\./](0?[1-9]|1[0-2])[\s\-\./]((?:19|20)\d{2})$
          replacement: $1.$2.$3
        dates_short_year_19:
          type: pattern_replace
          pattern: ^(\d{1,2})[\s\-\./](0?[1-9]|1[0-2])[\s\-\./]([8-9]\d)$
          replacement: $1.$2.19$3
        dates_short_year_20:
          type: pattern_replace
          pattern: ^(\d{1,2})[\s\-\./](0?[1-9]|1[0-2])[\s\-\./]([0-7]\d)$
          replacement: $1.$2.20$3
        dates_short_day:
          type: pattern_replace
          pattern: ^(\d{1})[\s\-\./](0?[1-9]|1[0-2])[\s\-\./]((?:19|20)?\d{2})$
          replacement: 0$1.$2.$3
        dates_short_month:
          type: pattern_replace
          pattern: ^(\d{2})[\s\-\./](\d{1})[\s\-\./]((?:19|20)?\d{2})$
          replacement: $1.0$2.$3
        dates_reformat:
          type: pattern_replace
          pattern: ^(\d{2})\.(0[1-9]|1[0-2])\.((?:19|20)\d{2})$
          replacement: $3-$2-$1
        catenate_non_dates:
          type: condition
          filter: [ remove_non_digits ]
          script:
            source: '!(token.getTerm().toString() ==~ /^(?:19|20)\d{2}-(0[1-9]|1[0-2])-\d{2}$/) && token.getTerm().toString() ==~ /^[\d\W]+$/'
        remove_non_digits:
          type: pattern_replace
          pattern: \D
        unique_tokens:
          type: unique
          only_on_same_position: true

  mappings:
    properties:
      crn:
        type: keyword
      offenderId:
        type: integer
      contactId:
        type: integer
      date:
        type: text
        analyzer: probation_text_analyzer
        copy_to: notes
        fields:
          date:
            type: date
            format: date_optional_time||yyyy-MM-dd||dd-MM-yyyy
      startTime:
        type: date
        format: hour_minute_second
      endTime:
        type: date
        format: hour_minute_second
      text:
        type: text
      textEmbedding:
        type: nested
        properties:
          knn:
            type: knn_vector
            dimension: 1024
            space_type: cosinesimil
            method:
              name: hnsw
              engine: lucene
      notes:
        copy_to: text
        type: text
        analyzer: probation_text_analyzer
        boost: 5
      description:
        copy_to: text
        type: text
        analyzer: probation_text_analyzer
        boost: 4
      outcome:
        copy_to: text
        type: text
        analyzer: probation_text_analyzer
        store: true
        boost: 2
        fields:
          keyword:
            type: keyword
      type:
        copy_to: text
        type: text
        analyzer: probation_text_analyzer
        store: true
        fields:
          keyword:
            type: keyword
      typeCode:
        type: keyword
        copy_to: type
      typeDescription:
        type: keyword
        copy_to: type
      typeShortDescription:
        type: keyword
        copy_to: type
      outcomeCode:
        type: keyword
        copy_to: outcome
      outcomeDescription:
        type: keyword
        copy_to: outcome
      attended:
        type: keyword
        copy_to: outcome
      complied:
        type: keyword
        copy_to: outcome
      lastUpdatedDateTime:
        type: date
      rowVersion:
        type: double
        index: false