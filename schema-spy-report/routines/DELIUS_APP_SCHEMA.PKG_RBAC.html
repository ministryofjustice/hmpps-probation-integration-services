<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>TSTNDA.DELIUS_APP_SCHEMA</title>
        <!-- Tell the browser to be responsive to screen width -->
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        <link rel="icon" type="image/png" sizes="16x16" href="../favicon.png">
        <!-- Bootstrap 3.3.5 -->
        <link rel="stylesheet" href="../bower/admin-lte/bootstrap/css/bootstrap.min.css">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="../bower/font-awesome/css/font-awesome.min.css">
        <!-- Ionicons -->
        <link rel="stylesheet" href="../bower/ionicons/css/ionicons.min.css">
        <!-- DataTables -->
        <link rel="stylesheet" href="../bower/datatables.net-bs/css/dataTables.bootstrap.min.css">
        <link rel="stylesheet" href="../bower/datatables.net-buttons-bs/css/buttons.bootstrap.min.css">
        <!-- Code Mirror -->
        <link rel="stylesheet" href="../bower/codemirror/codemirror.css">
        <!-- Fonts -->
        <link href='../fonts/indieflower/indie-flower.css' rel='stylesheet' type='text/css'>
        <link href='../fonts/source-sans-pro/source-sans-pro.css' rel='stylesheet' type='text/css'>

        <!-- Theme style -->
        <link rel="stylesheet" href="../bower/admin-lte/dist/css/AdminLTE.min.css">
        <!-- Salvattore -->
        <link rel="stylesheet" href="../bower/salvattore/salvattore.css">
        <!-- AdminLTE Skins. Choose a skin from the css/skins
           folder instead of downloading all of them to reduce the load. -->
        <link rel="stylesheet" href="../bower/admin-lte/dist/css/skins/_all-skins.min.css">
        <!-- SchemaSpy -->
        <link rel="stylesheet" href="../schemaSpy.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="../bower/html5shiv/html5shiv.min.js"></script>
        <script src="../bower/respond/respond.min.js"></script>
        <![endif]-->
    </head>
    <!-- ADD THE CLASS layout-top-nav TO REMOVE THE SIDEBAR. -->
    <body class="hold-transition skin-blue layout-top-nav">
        <div class="wrapper">
            <header class="main-header">
                <nav class="navbar navbar-static-top">
                    <div class="container">
                        <div class="navbar-header">
                            <a href="../index.html" class="navbar-brand"><b>TSTNDA</b></a><span class="navbar-brand" style="padding-left: 0">.DELIUS_APP_SCHEMA</span>
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse"><i class="fa fa-bars"></i></button>
                        </div>

                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                            <ul class="nav navbar-nav">
                                <li><a href="../index.html">Tables <span class="sr-only">(current)</span></a></li>
                                <li><a href="../columns.html" title="All of the columns in the schema">Columns</a></li>
                                <li><a href="../constraints.html" title="Useful for diagnosing error messages that just give constraint name or number">Constraints</a></li>
                                <li><a href="../relationships.html" title="Diagram of table relationships">Relationships</a></li>
                                <li><a href="../orphans.html" title="View of tables with neither parents nor children">Orphan&nbsp;Tables</a></li>
                                <li><a href="../anomalies.html" title="Things that might not be quite right">Anomalies</a></li>
                                <li><a href="../routines.html" title="Procedures and functions">Routines</a></li>
                            </ul>
                        </div>
                        <!-- /.navbar-collapse -->
                        <!-- Navbar Right Menu -->
                    </div>
                    <!-- /.container-fluid -->
                </nav>
            </header>
            <!-- Main content -->
            <!-- Full Width Column -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>DELIUS_APP_SCHEMA.PKG_RBAC</h1><br />
                </section>
                <!-- Main content -->
                <section class="content">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                            <h3 id="Columns" class="box-title">Parameters</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <table id="standard_table" class="table table-bordered table-striped dataTable" role="grid">
                                <thead align='left'>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Mode</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <i class="fa fa-file-code-o"></i>
                            <h3 id="RoutineDefinition" class="box-title">Definition</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <textarea id="sql-script-codemirror" name="sql-script-codemirror" rows="" style="display: none;">PACKAGE BODY PKG_RBAC&#10;AS&#10;--&#10;--&#10;--&#10;--&#10;&#10;--&#10;-- Global variables&#10;--&#10;g_label VARCHAR2(100);&#10;&#10;g_limit                 NUMBER :&#61; NULL;&#10;&#10;--&#10;--&#10;-- PKG_COMMON wrappers&#10;--&#10;PROCEDURE procDebug(p_msg CLOB) IS&#10;BEGIN&#10;    PKG_Debug.procDebug(p_msg);&#10;END procDebug;&#10;&#10;FUNCTION funcgetDebugMode RETURN VARCHAR2 IS&#10;BEGIN&#10;    RETURN PKG_Debug.funcgetDebugMode;&#10;END funcgetDebugMode;&#10;--&#10;PROCEDURE message(p_msg VARCHAR2, p_trace_level INTEGER DEFAULT 0) IS&#10;BEGIN&#10;    PKG_Common.print_message(&#10;        p_msg         &#61;&gt; p_msg,&#10;        p_trace_level &#61;&gt; NVL(p_trace_level, PKG_Common.GC_TRACE_LEVEL),&#10;        p_label       &#61;&gt; g_label );&#10;END message;&#10;--&#10;FUNCTION is_str_empty(p_str VARCHAR2, p_ignore_spaces_and_zeroes VARCHAR2 DEFAULT &#39;N&#39;) RETURN VARCHAR2 IS&#10;BEGIN&#10;    RETURN PKG_Common.is_str_empty( p_str, p_ignore_spaces_and_zeroes );&#10;END is_str_empty;&#10;--&#10;FUNCTION empty2null(p_str VARCHAR2) RETURN VARCHAR2 IS&#10;BEGIN&#10;    RETURN PKG_Common.empty2null(p_str);&#10;END empty2null;&#10;&#10;FUNCTION nvlstr(p_str1 VARCHAR2, p_str2 VARCHAR2) RETURN VARCHAR2 IS&#10;BEGIN&#10;    RETURN PKG_Common.NVLSTR(p_str1, p_str2);&#10;END nvlstr;&#10;--&#10;PROCEDURE raise_error(p_err_msg VARCHAR2, p_proc VARCHAR2, p_label VARCHAR2 DEFAULT NULL) IS&#10;BEGIN&#10;    PKG_Common.raise_error( p_err_msg, p_proc, p_label );&#10;END raise_error;&#10;--&#10;--&#10;--&#10;&#10;PROCEDURE do_set_rbac_levels(&#10;    p_offender_id        NUMBER,&#10;    p_L1          IN OUT NUMBER,&#10;    p_L2          IN OUT NUMBER,&#10;    p_L3          IN OUT NUMBER,&#10;    p_username    IN VARCHAR2 DEFAULT NULL )&#10;IS&#10;    --&#10;    l_user_id   NUMBER;&#10;    l_user_name USER_.distinguished_name%TYPE;&#10;    --&#10;    l_val VARCHAR2(10);&#10;    --&#10;BEGIN&#10;    --&#10;    IF p_username IS NOT NULL THEN&#10;        l_user_name :&#61; UPPER(TRIM(p_username));&#10;    ELSE&#10;        l_user_name :&#61; UPPER(SYS_CONTEXT(&#39;USERENV&#39;, &#39;CLIENT_IDENTIFIER&#39;));&#10;    END IF;&#10;    --&#10;    l_user_id :&#61;&#10;        PKG_Lookups.funcgetTabRecord_CACHED(&#10;            p_table &#61;&gt; &#39;user_&#39;,&#10;            p_data_fld &#61;&gt; &#39;user_id&#39;, p_default_val &#61;&gt; &#39;-1&#39;,&#10;            p_ref_col &#61;&gt; &#39;UPPER(distinguished_name)&#39;,&#10;            p_ref_val &#61;&gt; l_user_name );&#10;    --&#10;    l_val :&#61;&#10;        PKG_Lookups.funcgetTabRecord_CACHED_1(&#10;            p_table       &#61;&gt; &#39;TABLE ( PKG_RBAC.procGetOwnersTAB(p_offender_id_LST&#61;&gt;TO_CLOB(TO_CHAR(:p_offender_id)), p_user_id&#61;&gt;:p_user_id) )&#39;,&#10;            p_data_fld    &#61;&gt; &#39;L1 || &#39;&#39;|&#39;&#39; || L2  || &#39;&#39;|&#39;&#39; || L3&#39;,&#10;            p_default_val &#61;&gt; &#39;0|0|1&#39;,&#10;            p_ref_col     &#61;&gt; &#39;1&#39;,&#10;            p_ref_val     &#61;&gt; TO_CHAR(p_offender_id),&#10;            p_bind_var1   &#61;&gt; TO_CHAR(l_user_id),&#10;            p_bind_var2   &#61;&gt; &#39;1&#39;,&#10;            --&#10;            p_cache_key   &#61;&gt;&#10;                SUBSTR(&#10;                    &#39;TABLE(PKG_RBAC.procGetOwnersTAB(p_offender_id_lst,p_user_id)&#39;  || &#39;|&#39; ||&#10;                    &#39;L1|L2|L3&#39;                                                        || &#39;|&#39; ||&#10;                    &#39;0|0|1&#39;                                                           || &#39;|&#39; ||&#10;                    TO_CHAR(p_offender_id)                                            || &#39;|&#39; ||&#10;                    TO_CHAR(l_user_id)                                                || &#39;|&#39; ||&#10;                    PKG_LstUtl.get_array_2_list(&#10;                        PKG_VpdSupport.funcGetUserProbAreas(p_user_name&#61;&gt;l_user_name),&#10;                        p_max_len &#61;&gt; 4000)                                            || &#39;|&#39; ||&#10;                    &#39;1&#39;,&#10;                    1, 4001 )&#10;        );&#10;    --&#10;    --procDebug(&#39;PKG_RBAC.do_set_rbac_levels[user_id&#61;&#39; || l_user_id || &#39;][val&#61;&#39; || l_val || &#39;]&#39;);&#10;    --&#10;    p_L1 :&#61; PKG_LstUtl.list_num_elem(l_val, &#39;|&#39;, 1);&#10;    p_L2 :&#61; PKG_LstUtl.list_num_elem(l_val, &#39;|&#39;, 2);&#10;    p_L3 :&#61; PKG_LstUtl.list_num_elem(l_val, &#39;|&#39;, 3);&#10;    --&#10;END do_set_rbac_levels;&#10;--&#10;FUNCTION procGetOwnersTAB(&#10;    p_user_id             NUMBER,&#10;    p_offender_id_LST     CLOB&#10;)&#10;RETURN ttabOwners PIPELINED&#10;IS&#10;    TYPE l_cur_TYP IS REF CURSOR;&#10;    l_cur l_cur_TYP;&#10;    --&#10;    l_rec trecOwners;&#10;    l_tab ttabOwners;&#10;    --&#10;    l_user_name USER_.distinguished_name%TYPE;&#10;    --&#10;    l_SQL     VARCHAR2(20000);&#10;    l_cnt     INTEGER :&#61; 0;&#10;    --&#10;    l_offender_id_LST CLOB;&#10;    --&#10;BEGIN&#10;    --&#10;    --PKG_Debug.procrecordDbStats_START;&#10;    --&#10;    l_user_name :&#61;&#10;          PKG_Lookups.funcgetTabRecord_CACHED(&#10;              p_table &#61;&gt; &#39;USER_&#39;,&#10;              p_data_fld &#61;&gt; &#39;distinguished_name&#39;,&#10;              p_ref_col  &#61;&gt; &#39;user_id&#39;,&#10;              p_ref_val  &#61;&gt; TO_CHAR(p_user_id) );&#10;    --&#10;    procDebug(&#39;PKG_RBAC.procGetOwnersTab[l_user_name &#61;&gt; &#39; || l_user_name);&#10;    --&#10;    l_offender_id_LST :&#61; REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(p_offender_id_LST, CHR(10), &#39;&#39;), CHR(13), &#39;&#39;), CHR(9), &#39; &#39;), &#39; &#39;, &#39;&#39;), &#39;;&#39;, &#39;,&#39;);&#10;    --&#10;    l_SQL :&#61;&#10;       &#39;SELECT&#10;          o.offender_id,&#10;          --&#10;          PKG_Lookups.funcgetTabRecord(&#10;                p_table &#61;&gt; &#39;&#39;OFFENDER_MANAGER&#39;&#39;,&#10;                p_data_fld &#61;&gt; &#39;&#39;CASE WHEN COUNT(1) &gt; 0 THEN 1 ELSE 0 END&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                p_ref_col  &#61;&gt; &#39;&#39;offender_id&#39;&#39;,&#10;                p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                p_where    &#61;&gt;&#10;                    &#39;&#39;active_flag &#61; 1 AND soft_deleted &#61; 0 AND&#10;                      T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                p_bind_var1 &#61;&gt; :p_user_name,&#10;                p_order_by  &#61;&gt; &#39;&#39;offender_id&#39;&#39;&#10;          ) AS L1,&#10;          --&#10;          PKG_Lookups.funcgetTabRecord(&#10;                p_table &#61;&gt; &#39;&#39;OFFENDER_MANAGER&#39;&#39;,&#10;                p_data_fld &#61;&gt; &#39;&#39;CASE WHEN COUNT(1) &gt; 0 THEN 1 ELSE 0 END&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                p_ref_col  &#61;&gt; &#39;&#39;offender_id&#39;&#39;,&#10;                p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                p_where    &#61;&gt;&#10;                  &#39;&#39;soft_deleted &#61; 0 AND&#10;                    ( ( T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(p_user_name&#61;&gt;:p_user_name, p_NPS_flag&#61;&gt;&#39;&#39;&#39;&#39;Y&#39;&#39;&#39;&#39;) IS NOT EMPTY )&#10;                      OR&#10;                      ( T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(p_user_name&#61;&gt;:p_user_name, p_NPS_flag&#61;&gt;&#39;&#39;&#39;&#39;N&#39;&#39;&#39;&#39;) IS NOT EMPTY AND&#10;                        active_flag &#61; 0 )&#10;                    )&#39;&#39;,&#10;                p_bind_var1 &#61;&gt; :p_user_name,&#10;                p_bind_var2 &#61;&gt; :p_user_name,&#10;                p_order_by  &#61;&gt; &#39;&#39;offender_id&#39;&#39;&#10;          ) AS L2,&#10;          --&#10;          CASE&#10;              WHEN&#10;                  -- (a) CASELOAD based L3 check:&#10;                  -- 1. Offender Level NSI with no termination date&#10;                  -- 2b. Sentenced Event with no termination date&#10;                  -- 3. An Event Level NSI with no termination date.&#10;                  -- 4. Any requirement, licence condition, additional requirement or PSS Requirement with no termination date&#10;                  -- 5. Any Report on an Event where the Event has no termination date&#10;                  -- 6. OM or POM Responsibility&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;caseload CL, all_team T&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;CL.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;/*DST-4793: OM is not part of L3 selection criteria CL.role_code NOT IN (&#39;&#39;&#39;&#39;OM&#39;&#39;&#39;&#39;) AND*/&#10;                                /* DST-5915: retain L3 access for Accepted Transfer for a Court Report on a pre Sentenced Event */&#10;                                  -- DST-4984 (overriden by DST-5915): ( CL.court_report_id IS NULL OR ( CL.court_report_id IS NOT NULL AND CL.disposal_id IS NOT NULL ) ) AND&#10;                              T.trust_provider_flag &#61; CL.trust_provider_flag AND T.trust_provider_team_id &#61; CL.trust_provider_team_id AND&#10;                              T_TAB_ORGANISATIONS( T.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;CL.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  -- (b) 2a. Pre-sentence Event:&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;event E INNER JOIN order_manager EM ON EM.event_id &#61; E.event_id AND EM.active_flag &#61; 1 INNER JOIN all_team T ON T.trust_provider_flag &#61; EM.trust_provider_flag AND T.trust_provider_team_id &#61; EM.trust_provider_team_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;E.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;-- DST-4793: Pre-Sentense EVENT:&#10;                              NOT EXISTS( SELECT 1 FROM disposal D WHERE D.event_id &#61; E.event_id AND D.soft_deleted &#61; 0 )&#10;                              /* DST-5859: Reverse DST-4984/5088 changes (to always allow L3 for pre-sentensed EVENT)&#10;                              -- -- DST-4984/5088: Exclude Court Report from the pre-sentense EVENT L3 criteria&#10;                              -- AND NOT EXISTS( SELECT 1&#10;                              --                 FROM&#10;                              --                   court_appearance CA&#10;                              --                     INNER JOIN court_report CR ON CR.court_appearance_id &#61; CA.court_appearance_id AND CR.soft_deleted &#61; 0&#10;                              --                       LEFT OUTER JOIN r_court_report_type RT ON RT.court_report_type_id &#61; CR.delivered_court_report_type_id&#10;                              --                     INNER JOIN report_manager RM ON RM.court_report_id &#61; CR.court_report_id AND RM.active_flag &#61; 1 AND RM.soft_deleted &#61; 0&#10;                              --                 WHERE CA.event_id &#61; E.event_id&#10;                              --                   AND CA.soft_deleted &#61; 0&#10;                              --                   -- CC045: Use the below condition instead: xx CR.completed_date IS NULL AND&#10;                              --                   AND CR.sent_to_court_date IS NULL&#10;                              --                   -- SPG-10175: where delivered court report type.CODE &#61; &quot;NIL&quot;. Thats all it takes to mark as abandoned&#10;                              --                   AND NVL(RT.code, &#39;&#39;&#39;&#39;xyz&#39;&#39;&#39;&#39;) &lt;&gt; &#39;&#39;&#39;&#39;NIL&#39;&#39;&#39;&#39; )&#10;                              */&#10;                              --&#10;                              AND T_TAB_ORGANISATIONS( T.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;E.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;                -- YF: superseeded by CASELOAD based L3 check&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;ORDER_MANAGER OM JOIN EVENT E ON E.event_id &#61; OM.event_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;E.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;OM.active_flag &#61; 1 AND E.active_flag &#61; 1 AND OM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name )&#10;--                  &gt; 0 THEN 1&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;RQMNT_MANAGER RM JOIN RQMNT R ON R.rqmnt_id &#61; RM.rqmnt_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;R.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;RM.active_flag &#61; 1 AND R.termination_date IS NULL AND RM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name )&#10;--                  &gt; 0 THEN 1&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;LIC_CONDITION_MANAGER LCM JOIN LIC_CONDITION LC ON LC.lic_condition_id &#61; LCM.lic_condition_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;LC.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;LCM.active_flag &#61; 1 AND LC.termination_date IS NULL AND LCM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name )&#10;--                  &gt; 0 THEN 1&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;NSI_MANAGER NM JOIN NSI N ON N.nsi_id &#61; NM.nsi_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;N.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;NM.active_flag &#61; 1 AND N.active_flag &#61; 1 AND NM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name )&#10;--                  &gt; 0 THEN 1&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;PSS_RQMNT_MANAGER PRM INNER JOIN PSS_RQMNT PR ON prm.pss_rqmnt_id &#61; pr.pss_rqmnt_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;pr.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;PRM.active_flag &#61; 1 AND PR.termination_date IS NULL AND PRM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name )&#10;--                  &gt; 0 THEN 1&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;report_manager RM JOIN court_report CR ON CR.court_report_id &#61; RM.court_report_id LEFT OUTER JOIN r_court_report_type RT ON RT.court_report_type_id &#61; CR.delivered_court_report_type_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;CR.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;RM.active_flag &#61; 1 AND&#10;--                              /*CC045: Use the below condition instead: xx CR.completed_date IS NULL AND */&#10;--                              CR.sent_to_court_date IS NULL AND&#10;--                              -- #SPG-10175: where delivered court report type.CODE &#61; &quot;NIL&quot;. Thats all it takes to mark as abandoned&#10;--                              NVL(RT.code, &#39; || chr(39) || chr(39) || &#39;xyz&#39; || chr(39) || chr(39) || &#39;) &lt;&gt; &#39; || chr(39) || chr(39) || &#39;NIL&#39; || chr(39) || chr(39) || &#39; AND&#10;--                              RM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name,&#10;--                        p_order_by  &#61;&gt; &#39;&#39;CR.offender_id&#39;&#39; )&#10;--                  &gt; 0 THEN 1&#10;--              WHEN&#10;--                  PKG_Lookups.funcgetTabRecord(&#10;--                        p_table &#61;&gt; &#39;&#39;REPORT_MANAGER RM JOIN INSTITUTIONAL_REPORT IR ON ir.institutional_report_id &#61; rm.institutional_report_id&#39;&#39;,&#10;--                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;--                        p_ref_col  &#61;&gt; &#39;&#39;IR.offender_id&#39;&#39;,&#10;--                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;--                        p_where    &#61;&gt;&#10;--                            &#39;&#39;RM.active_flag &#61; 1 AND&#10;--                              /*CC045: Use the below condition instead: xx IR.date_completed IS NULL AND */&#10;--                              NOT ( IR.date_abandoned IS NOT NULL OR IR.date_sent IS NOT NULL OR IR.sent_to_prison_date IS NOT NULL ) AND&#10;--                              RM.soft_deleted &#61; 0 AND&#10;--                              T_TAB_ORGANISATIONS( probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;--                        p_bind_var1 &#61;&gt; :p_user_name,&#10;--                        p_order_by  &#61;&gt; &#39;&#39;IR.offender_id&#39;&#39; )&#10;--                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;OFFENDER_TRANSFER TR JOIN TEAM T ON tr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;ORDER_TRANSFER TR JOIN TEAM T ON tr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;RQMNT_TRANSFER TR JOIN TEAM T ON tr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;LIC_CONDITION_TRANSFER TR JOIN TEAM T ON tr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;PSS_RQMNT_TRANSFER TR JOIN TEAM T ON tr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;NSI_TRANSFER TR JOIN TEAM T ON tr.target_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;INSTITUTIONAL_REPORT_TRANSFER TR JOIN TEAM T ON tr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON tr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND TR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;TR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              WHEN&#10;                  PKG_Lookups.funcgetTabRecord(&#10;                        p_table &#61;&gt; &#39;&#39;COURT_REPORT_TRANSFER CR JOIN TEAM T ON cr.receiving_team_id &#61; t.team_id JOIN R_STANDARD_REFERENCE_LIST RD ON cr.transfer_status_id &#61; rd.standard_reference_list_id&#39;&#39;,&#10;                        p_data_fld &#61;&gt; &#39;&#39;COUNT(1)&#39;&#39;, p_default_val &#61;&gt; &#39;&#39;0&#39;&#39;,&#10;                        p_ref_col  &#61;&gt; &#39;&#39;CR.offender_id&#39;&#39;,&#10;                        p_ref_val  &#61;&gt; TO_CHAR(O.offender_id),&#10;                        p_where    &#61;&gt;&#10;                            &#39;&#39;RD.code_value &#61; &#39;&#39;&#39;&#39;PN&#39;&#39;&#39;&#39; AND CR.soft_deleted &#61; 0 AND&#10;                              T_TAB_ORGANISATIONS( t.probation_area_id ) MULTISET INTERSECT PKG_VpdSupport.funcGetUserProbAreas(:p_user_name) IS NOT EMPTY&#39;&#39;,&#10;                        p_bind_var1 &#61;&gt; :p_user_name,&#10;                        p_order_by  &#61;&gt; &#39;&#39;CR.offender_id&#39;&#39; )&#10;                  &gt; 0 THEN 1&#10;              ELSE 0&#10;          END AS L3&#10;          --&#10;        FROM offender O&#10;        WHERE &#39; || CASE WHEN p_offender_id_lst IS NULL THEN&#10;                       &#39;:p_offender_id_LST IS NULL  AND :p_offender_id_LST IS NULL&#39;&#10;                   ELSE&#10;                       --&#39;O.offender_id IN ( SELECT * FROM TABLE( PKG_LstUtl.get_list_2_array(:p_offender_id_LST) ) )&#39;&#10;                       --&#39;O.offender_id IN ( SELECT TO_NUMBER(column_value) FROM XMLTABLE(:p_offender_id_LST)&#10;                       &#39;O.offender_id IN (  SELECT TO_NUMBER(TRIM(REGEXP_SUBSTR(:p_offender_id_LST, &#39;&#39;[^,]+&#39;&#39;, 1, LEVEL))) offender_id&#10;                                            FROM DUAL&#10;                                            CONNECT BY LEVEL &lt;&#61; REGEXP_COUNT(:p_offender_id_LST,&#39;&#39;,&#39;&#39;) + 1&#10;                                          )&#39;&#10;                   END || &#39;&#10;        ORDER BY O.offender_id&#39;&#10;    ;&#10;&#10;    OPEN l_cur FOR l_SQL&#10;    USING&#10;      --L1&#10;      l_user_name,&#10;      --L2&#10;      l_user_name,&#10;      l_user_name,&#10;      --L3 - MANAGER tables&#10;      l_user_name, -- derived from CASELOAD&#10;      l_user_name, -- Pre-sentence Events&#10;      -- YF: superseeded by CASELOAD based L3 check&#10;      --l_user_name, l_user_name, l_user_name, l_user_name, l_user_name,&#10;      --L3 - Report Tables&#10;      --l_user_name, l_user_name,&#10;      --L3 - TRANSFER tables&#10;      l_user_name, l_user_name,&#10;      l_user_name, l_user_name,&#10;      l_user_name, l_user_name,&#10;      l_user_name, l_user_name,&#10;      --REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(p_offender_id_LST, CHR(10), &#39;&#39;), CHR(13), &#39;&#39;), CHR(9), &#39; &#39;), &#39; &#39;, &#39;&#39;), &#39;;&#39;, &#39;,&#39;)&#10;      l_offender_id_LST, l_offender_id_LST&#10;      ;&#10;    --&#10;    FETCH l_cur BULK COLLECT INTO l_tab;&#10;    CLOSE l_cur;&#10;    --&#10;    FOR l_i IN 1..l_tab.COUNT LOOP&#10;        /*procDebug( &#39;procGetOwnersTAB &#39; ||&#10;            &#39;(row&#61;&#39;         || l_i                    || &#39;)&#39;   ||&#10;            &#39;(offender_id&#61;&#39; || l_tab(l_i).offender_id || &#39;)&#39;   ||&#10;            &#39;(L1&#61;&#39;          || l_tab(l_i).L1          || &#39;)&#39;   ||&#10;            &#39;(L2&#61;&#39;          || l_tab(l_i).L2          || &#39;)&#39;   ||&#10;            &#39;(L3&#61;&#39;          || l_tab(l_i).L3          || &#39;)&#39;&#10;        );*/&#10;        l_cnt :&#61; l_cnt + 1;&#10;        PIPE ROW ( l_tab(l_i) );&#10;    END LOOP;&#10;    --&#10;--    procDebug( &#39;procGetOwnersTAB (rows&#61;&#39; || l_tab.COUNT  || &#39;)&#39;   ||&#10;--        &#39;(&#39; || PKG_Debug.funcgetDbStats                  || &#39;): &#39; ||&#10;--        &#39;(p_offender_id_LST&#61;&#39; || SUBSTR(p_offender_id_LST, 1, 4000) || &#39;)&#39;   ||&#10;--        &#39;(p_user_id&#61;&#39;         || p_user_id               || &#39;)&#39;   ||&#10;--        &#39;(user_name&#61;&#39;         || l_user_name             || &#39;)&#39;   ||&#10;--        l_SQL );&#10;    --&#10;EXCEPTION WHEN NO_DATA_NEEDED THEN&#10;    procDebug( &#39;procGetOwnersTAB (&#39; || l_cnt || &#39; of &#39; || l_tab.COUNT || &#39; rows called from the cursor)&#39; ||&#10;        &#39;(&#39; || PKG_Debug.funcgetDbStats                                   || &#39;): &#39; ||&#10;        &#39;(p_offender_id_LST&#61;&#39; || DBMS_LOB.SUBSTR(p_offender_id_LST, 4000) || &#39;)&#39;   ||&#10;        &#39;(p_user_id&#61;&#39;         || p_user_id                                || &#39;)&#39;   ||&#10;        &#39;(user_name&#61;&#39;         || l_user_name                              || &#39;)&#39;   ||&#10;        l_SQL );&#10;WHEN OTHERS THEN&#10;    procDebug(&#39;procGetOwnersTAB ERROR: &#39; || SQLERRM || &#39; &#39; ||&#10;        &#39;(p_offender_id_LST&#61;&#39; || DBMS_LOB.SUBSTR(p_offender_id_LST, 4000) || &#39;)&#39;   ||&#10;        &#39;(p_user_id&#61;&#39;         || p_user_id                                || &#39;)&#39;   ||&#10;        &#39;(user_name&#61;&#39;         || l_user_name                              || &#39;)&#39;   || CHR(10) ||&#10;        l_SQL );&#10;    RAISE;&#10;END procGetOwnersTAB;&#10;--&#10;--&#10;--&#10;--&#10;--&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;--&#10;--&#10;-- Package Body initialisation block&#10;--&#10;--&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;--&#10;--&#10;BEGIN&#10;    --&#10;    PKG_Global.do_init;&#10;    --&#10;END PKG_RBAC;</textarea>
                        </div>
                    </div>
                </section>
            </div>
            <!-- /.content-wrapper -->
            <footer class="main-footer">
                <div>
                    <div class="pull-right hidden-xs">
                        <a href="https://github.com/schemaspy/schemaspy" title="GitHub for SchemaSpy"><i class="fa fa-github-square fa-2x"></i></a>
                        <a href="http://stackoverflow.com/questions/tagged/schemaspy" title="StackOverflow for SchemaSpy"><i class="fa fa-stack-overflow fa-2x"></i></a>
                    </div>
                    <strong>Generated by <a href="http://schemaspy.org/" class="logo-text"><i class="fa fa-database"></i> SchemaSpy 6.2.4</a></strong>
                </div>
                <!-- /.container -->
            </footer>
        </div>
        <!-- ./wrapper -->

        <!-- jQuery 2.2.3 -->
        <script src="../bower/admin-lte/plugins/jQuery/jquery-2.2.3.min.js"></script>
        <script src="../bower/admin-lte/plugins/jQueryUI/jquery-ui.min.js"></script>
        <!-- Bootstrap 3.3.5 -->
        <script src="../bower/admin-lte/bootstrap/js/bootstrap.min.js"></script>
        <!-- DataTables -->
        <script src="../bower/datatables.net/jquery.dataTables.min.js"></script>
        <script src="../bower/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
        <script src="../bower/datatables.net-buttons/dataTables.buttons.min.js"></script>
        <script src="../bower/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.html5.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.print.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.colVis.min.js"></script>
        <!-- SheetJS -->
        <script src="../bower/js-xlsx/xlsx.full.min.js"></script>
        <!-- pdfmake -->
        <script src="../bower/pdfmake/pdfmake.min.js"></script>
        <script src="../bower/pdfmake/vfs_fonts.js"></script>
        <!-- SlimScroll -->
        <script src="../bower/admin-lte/plugins/slimScroll/jquery.slimscroll.min.js"></script>
        <!-- FastClick -->
        <script src="../bower/admin-lte/plugins/fastclick/fastclick.js"></script>
        <!-- Salvattore -->
        <script src="../bower/salvattore/salvattore.min.js"></script>
        <!-- AnchorJS -->
        <script src="../bower/anchor-js/anchor.min.js"></script>
        <!-- CodeMirror -->
        <script src="../bower/codemirror/codemirror.js"></script>
        <script src="../bower/codemirror/sql.js"></script>
        <!-- AdminLTE App -->
        <script src="../bower/admin-lte/dist/js/app.min.js"></script>
        <script src="routine.js"></script>
        <script src="../schemaSpy.js"></script>
    </body>
</html>